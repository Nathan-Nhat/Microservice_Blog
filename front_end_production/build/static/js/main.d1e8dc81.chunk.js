(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{109:function(e,t){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxANEg8PDw8PDQ8NEBAPDQ0QEhANDg0SIBEWFhUdEx8aHSggGBolGxMTIj0hJikrLi4uFyAzODMsNygtLisBCgoKDQ0NFQ0NDisdFR0rKystKy0rKysrNysrLS0rKzc3KysrKysrKysrKysrKysrKysrLSsrKysrKysrKysrN//AABEIAOEA4QMBIgACEQEDEQH/xAAbAAEBAAIDAQAAAAAAAAAAAAAAAQUGAwQHAv/EADoQAQACAQICBQkHAgcBAAAAAAABAgMEESExBQYSQVEyM1JhcYGRobFCYnJzssHREyIUIyQ0gqLhY//EABUBAQEAAAAAAAAAAAAAAAAAAAAB/8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8A9xAAAAAAAABLWiOMztEc5nhAKMdqemsNOETOSfCvL48mNz9YLz5FK19u9pBsY1aOnc8ehP8AxcOr6UtljjXsz6VbXj5b7A26bRHfEPic9I+3WPfDRrWmeczPtnd8A9AGm6HpXJg2iJ7dO+luXu8G0aDX01Eb1njHlUnnUHaAAAAAAAAAAAAAAAAAABwazVVw1m9vdHfafUC6rJNKzMWrXbna++0fy1XpDVTknzlskR4x2a+6HzrtdfPO9p4R5NI5VdUBBAEABBAHJpdTbDaL0naY+Ex4T6nEgN502vx3pXJNq1i0crTEbT3w5seat/JtW3smJeflbTWd4mYmOUxwmAeiDAdXelL5JnFkt2p23paec+MT4s+AAAAAAAAAAAAAABMtR6V1s5rzP2K7xSPV4+9tebybeyfo0YBBAEABBAEEAQQBBAdno/LbHkresTP9Oe1bb0eVvlLfYnfjHKeTz3T57YrRek7Wry8Pf6m9dHaiubHS9Y2iY8n0ZjhMfIHZAAAAAAAAAAAAABw62dseT8FvpLSG76yP8vJ+C30lo4AgAggCCAIIAggAIoNy6r/7ev4r/Vpjc+rEf6enrtf9UgywCAAAAAAAAAAAAD4zRvW0eNZ+jRG+y0PLG1rR4TMfMHyggCCAIIAggAIoIIA3jq5G2nxevtT/ANpaM33oSu2DDH3In90HeAAAAAAAAAAAAABxajUUxR2r2isevv8AY0rW3rbJktXjW17WrPLhM7u71hzzfNavdjiKxHuiZYsBBAEEAQQAEUEEAQQCW+dEa3FkpWmO8WmlKxNeMWjaNuUtCcuj1E4r0vWdpraJ9sd8fAHpAkTvx8VQAAAAAAAAAAAAaT0x57L+P9nTZHrBi7Ga8919rR8Np+cSxoCCAIIACKCCAIIAggCDk0+Kcl6Ujne0Vj4g9H0/k0/DX6ORKxtER4RsqAAAAAAAAAAAADFdP9Hznp2qxvfHvMR6Ud8NQl6Ix+s6Hw5p7VqzW085rPZ39oNKR3umdJGDLalY2rtE17+G387ugACKCCAIIAggCD7wY5vatI53tFY987CONs3VPoyd/wDEXjaIiYxRPf4yyWLq3pq27XZtbb7Np3r8GXiNuEcIjlCKoAAAAAAAAAAAAAAAMB1s0u9aZY50ns29k8vn9WrvQ9RhjJW1LcYvExLQdbp7Yb2x251nn4x3SDhQRQQQBBAEEEGb6p6T+pm7cx/bhjf/AJTwj92EiN+EcZnhEeL0DoPQf4bFWs+Xb+7JPr/85AyACKAAAAAAAAAAAAAAAAMR1g6L/r17dI/zaRw+/Hgy4DzWeHDlPfHgjsdI+dy/mX/VLrKCCAIIIAkg2bqr0RvMajJHCPNVnvn0m1ur0X5nD+XT9MO0igAAAAAAAAAAAAAAAAOPNqKY43vetI+9MQDkGI1PWLT05TbJP3Y4fGWL1PWm8+bx1r67TNpBhukfO5fzL/ql1n1lyTebWnnaZtPdxmeL4UEEEAQBJEB6T0V5nD+VT9MO00jQdZ8uKtaWrTJWkRWOdbREMxputeC3C9b4p8ZjtV+X8IrPjrabX4cvm8tL+qJjf4c3ZAAAAAAAAAB19brKYKze87RHKO+0+EA7D5yZK1je0xWPGZiIafren82SZis/0q90V8r3yxeTLa3G1rWnxtM2+oNz1HTunx/b7c+FIm3z5MZqOtM8seKI+9ed/lH8tcRRkNT03qMnPJNY8KbU/wDWPvaZneZmZ8Z4yiAIIAgggCAIIAggCCAbu7pumNRi8jNfb0bf31+booDZtN1wyV4ZMVcnrrM0n92X0vWrTX8qbYp+9EzHxjdoSA9U0+qx5Y3x3pePu2iXM8lraY4xMxPjE7SyWi6wanDttknJWPsZN7x/MIr0gYroPpvHrInb+zJWN74548PGPGGVAAAaX1h1k5csxE/24t618N++fj9G4Z8nYra3o1tb4Ru87tbfeZ5zxkBBFBBAEEAQQQBAEEAQQBBAEEABAEEAQQHY0Grtp8lMtOdJ39sd8e+HqWDLGStb141vWLR7Jjd5I9G6oZu3pce/Ok2p8LTt8phFZkAHT6XttgzT/wDO0fLZoTeunZ/0+b8P7w0QBBFBBAEEEAQBBAEEAQQBBAAQBBAEEAQQBvfUO++C8ejln9MNDbx1A81m/Mj9MA2kBFdDp3/b5vw/vDQwBBBQQBEQARABEAEABEAEQARABEAEABEAEbx1A81m/Mj9MADaQEV//9k="},154:function(e,t,a){e.exports=a.p+"static/media/background.028aba16.jpg"},196:function(e,t,a){e.exports=a(303)},201:function(e,t,a){},202:function(e,t,a){},258:function(e,t,a){},259:function(e,t,a){},260:function(e,t,a){},285:function(e,t){},303:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(20),i=a.n(l),o=(a(201),a(202),a(42)),c=a.n(o),s=a(22),m=a(2),d=a(155),u=a(11),p=a(352),g=a(353),f=a(354),b=a(355),E=a(69),h=a(162),v=a.n(h),y=a(348),_=a(26),w=a(10),A=function(e){return{type:"FETCH_USER",data:e}},O=function(e){return{type:"OPEN_NOTIF",data:e}},j=a(374),x=a(356),k=a(357),N=a(358),C=a(55),S=a.n(C),T=a(7),R=a(59),L=a.n(R),P=a(351),D=a(157),B=a.n(D),z=a(112),M=a.n(z),I=B()({palette:{primary:{main:M.a[500]},secondary:{main:M.a[900]}},typography:{button:{textTransform:"none"}}}),W=a(377),F=a(307),H=a(359),G=a(360),Q=a(163),U=a.n(Q),q=a(164),K=a.n(q),Y=a(165),J=a.n(Y),Z=a(166),X=a.n(Z),V=a(167),$=a.n(V),ee=a(109),te=a.n(ee),ae=a(115),ne=a.n(ae),re=Object(y.a)((function(e){return{root:{flexGrow:1},toolbar:{maxWidth:"1200px",width:"100%",padding:0,margin:"auto"},title:{flexGrow:1},link:{marginRight:"1rem"},search:{marginLeft:"1rem",paddingLeft:"0.2rem",borderRadius:"2rem",color:"white",backgroundColor:"rgba(255, 255, 255, .1)",width:function(e){return e.isMobile?"100%":"15rem"},maxWidth:function(e){return e.isMobile?"15rem":"100rem"},flexGrow:function(e){return e.isMobile?1:0},marginRight:"1rem",paddingRight:"1rem","&:hover":{backgroundColor:"rgba(255, 255, 255, .3)"}},loginButton:{display:function(e){return e.isMobile?"none":""}}}})),le=Object(T.a)((function(e){return{tooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",maxWidth:220,fontSize:e.typography.pxToRem(12),border:"1px solid #dadde9"},arrow:{color:"#f5f5f9"}}}))(j.a),ie=function(){var e=Object(P.a)(I.breakpoints.down("sm")),t=re({isMobile:e}),a=Object(_.g)(),n=Object(w.b)(),l=r.a.useState({search:""}),i=Object(u.a)(l,2),o=i[0],h=i[1];function y(e,t){return O.apply(this,arguments)}function O(){return(O=Object(d.a)(c.a.mark((function t(r,l){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.preventDefault(),1===l?a.push("/login"):2===l?a.push("/signup"):3===l?a.push("/add_post"):4===l?a.push("/profile/".concat(z)):5===l?(localStorage.removeItem("jwt"),n(A({isAuthenticated:!1,id:0,name:"",email:""}))):a.push("/all_tags"),e&&R(!1);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var j=r.a.useState(!1),C=Object(u.a)(j,2),T=C[0],R=C[1],D=Object(w.c)((function(e){return e.AuthenReducer})),B=D.isAuthenticated,z=D.id,M=D.user_avatar,Q=D.name;return r.a.createElement(p.a,{position:"static",style:{boxShadow:"none",paddingLeft:"1rem"},color:"secondary"},r.a.createElement(g.a,{className:t.toolbar},e?r.a.createElement(f.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){R(!0)}},r.a.createElement(v.a,null)):null,r.a.createElement(b.a,{onClick:function(){a.push("/")}},r.a.createElement(E.a,{variant:"h5",style:{color:"white",fontWeight:"bold"}},"Blog")),r.a.createElement(le,{disableHoverListener:!0,arrow:!0,title:r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{style:{fontSize:"0.7rem"}},"Press ",r.a.createElement("div",{style:{border:"1px solid #888a8c",padding:"0 0.5rem 0 0.5rem",borderRadius:"3px",display:"inline-block"}},r.a.createElement(L.a,{style:{fontSize:"0.7rem",paddingRight:"0.3rem"}}),"Enter")," to search"))},r.a.createElement(x.a,{className:t.search,onKeyDown:function(e){"Enter"===e.key&&(a.push("/search?query=".concat(o.search)),h(Object(m.a)(Object(m.a)({},o),{},{search:""})))},id:"input-with-icon-textfield",disableUnderline:!0,onChange:function(e){var t=e.target.name,a=e.target.value;h(Object(m.a)(Object(m.a)({},o),{},Object(s.a)({},t,a)))},name:"search",value:o.search,startAdornment:r.a.createElement(k.a,null,r.a.createElement(S.a,{style:{paddingLeft:"0.5rem",paddingRight:"0.5rem",color:"white"}}))})),r.a.createElement("div",{className:t.title}),e?r.a.createElement(W.a,{anchor:"left",open:T,onClose:function(){R(!1)}},r.a.createElement("img",{style:{height:"6rem",width:"6rem",margin:"2rem auto 1rem auto",borderRadius:"50%"},src:B?M:te.a}),B?r.a.createElement(E.a,{style:{textAlign:"center",fontWeight:"bold",marginBottom:"1rem"}},Q):null,r.a.createElement(N.a,null),!1===B?r.a.createElement("div",null,r.a.createElement(F.a,{button:!0,onClick:function(e){return y(e,6)}},r.a.createElement(H.a,null,r.a.createElement(ne.a,null)),r.a.createElement(G.a,{primary:"Tags",style:{marginRight:"4rem"}})),r.a.createElement(F.a,{button:!0,onClick:function(e){return y(e,1)}},r.a.createElement(H.a,null,r.a.createElement(U.a,null)),r.a.createElement(G.a,{primary:"Login"})),r.a.createElement(F.a,{button:!0,onClick:function(e){return y(e,2)}},r.a.createElement(H.a,null,r.a.createElement(K.a,null)),r.a.createElement(G.a,{primary:"Signup",style:{marginRight:"4rem"}}))):r.a.createElement("div",null,r.a.createElement(F.a,{button:!0,onClick:function(e){return y(e,4)}},r.a.createElement(H.a,null,r.a.createElement(J.a,null)),r.a.createElement(G.a,{primary:"My Profile"})),r.a.createElement(F.a,{button:!0,onClick:function(e){return y(e,6)}},r.a.createElement(H.a,null,r.a.createElement(ne.a,null)),r.a.createElement(G.a,{primary:"Tags",style:{marginRight:"4rem"}})),r.a.createElement(F.a,{button:!0,onClick:function(e){return y(e,3)}},r.a.createElement(H.a,null,r.a.createElement(X.a,null)),r.a.createElement(G.a,{primary:"Add post",style:{marginRight:"4rem"}})),r.a.createElement(F.a,{button:!0,onClick:function(e){return y(e,5)}},r.a.createElement(H.a,null,r.a.createElement($.a,null)),r.a.createElement(G.a,{primary:"Logout"})))):r.a.createElement("div",{className:t.loginButton},!1===B?r.a.createElement("div",null,r.a.createElement(b.a,{color:"inherit",className:t.link,onClick:function(e){return y(e,6)}},"Tags"),r.a.createElement(b.a,{color:"inherit",className:t.link,onClick:function(e){return y(e,1)}},"Login"),r.a.createElement(b.a,{color:"inherit",className:t.link,onClick:function(e){return y(e,2)}},"Sign up")):r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement(b.a,{color:"inherit",className:t.link,onClick:function(e){return y(e,6)}},"Tags"),r.a.createElement(b.a,{color:"inherit",variant:"outlined",className:t.link,onClick:function(e){return y(e,3)}},"Add post"),r.a.createElement(b.a,{color:"inherit",className:t.link,onClick:function(e){return y(e,4)}},"My Profile"),r.a.createElement(b.a,{color:"inherit",className:t.link,onClick:function(e){return y(e,5)}},"Logout")))))},oe=a(370),ce=a(53),se=a.n(ce),me="http://tnshare.online:8000/auth",de="http://tnshare.online:8000/profile",ue="http://tnshare.online:8000/post",pe="http://tnshare.online:8000/image",ge=a(15),fe=a(363),be=a(364),Ee=a(365),he=a(362),ve=a(116),ye=a.n(ve);function _e(e,t,a){var n=null,r=t;return a&&null!==(n=localStorage.getItem("jwt"))&&(r=Object.assign({},t,{token:n},{user_id:null})),se()({method:"GET",url:e,params:r})}function we(e,t,a,n){var r=null,l=t;return n&&null!==(r=localStorage.getItem("jwt"))&&(l=Object.assign({},t,{token:r},{user_id:null})),se()({method:"POST",url:e,params:l,data:a})}function Ae(e,t,a){var n=null,r=t;return a&&null!==(n=localStorage.getItem("jwt"))&&(r=Object.assign({},t,{token:n},{user_id:null})),se()({method:"DELETE",url:e,params:r})}function Oe(e,t,a,n){var r=null,l=t;return n&&null!==(r=localStorage.getItem("jwt"))&&(l=Object.assign({},t,{token:r},{user_id:null})),se()({method:"PUT",url:e,params:l,data:a})}var je=a(32),xe=a.n(je),ke=Object(y.a)((function(e){return{container:{display:"flex",flexDirection:"column",margin:function(e){return e.isMobile?"2rem auto":"6rem auto"},width:"100%",maxWidth:"25rem","&>*":{marginTop:"1rem"}},input:{borderRadius:"none",width:"100%"},buttonLogin:{boxShadow:"none",margin:"auto",padding:"0.7rem 1rem 0.7rem 1rem",alignSelf:"center","&:hover":{boxShadow:"none"}},title:{width:"100%",textAlign:"center",paddingBottom:"1rem"},moreOption:{display:"flex",flexDirection:"column",justifyContent:"center"},toSignup:{textAlign:"center"},forgotPassword:{textAlign:"center",color:e.palette.primary.dark,"&:hover":{cursor:"pointer",color:e.palette.primary.light}},responseSuccess:{fontStyle:"italic",border:"1px solid green",color:"green",fontSize:"0.8rem",padding:"0.6rem",borderRadius:"1rem",paddingBottom:"1rem",wordWrap:"break"},responseFail:{fontStyle:"italic",border:"1px solid red",color:"red",fontSize:"0.8rem",padding:"0.6rem",borderRadius:"1rem",paddingBottom:"1rem"},main:{padding:"1rem","&>*":{marginTop:"1rem"}}}})),Ne=function(){var e=Object(P.a)(I.breakpoints.down("sm")),t=ke({isMobile:e}),a=Object(n.useState)({username:"",password:"",isOpen:!1,emailPass:"",emailConfirm:"",isSent:0,resMessage:"",is_confirm_open:!1}),l=Object(u.a)(a,2),i=l[0],o=l[1],c=Object(_.g)(),d=Object(_.h)(),p=xe.a.parse(d.search).type,g=function(e){var t=e.target.value,a=e.target.name;o(Object(m.a)(Object(m.a)({},i),{},Object(s.a)({},a,t)))},f=Object(w.b)(),h=Object(w.c)((function(e){return e.AuthenReducer})).isAuthenticated,v=function(){o(Object(m.a)(Object(m.a)({},i),{},{isOpen:!1,isSent:0}))},y=function(){o(Object(m.a)(Object(m.a)({},i),{},{is_confirm_open:!1,isSent:0}))};return r.a.createElement("div",null,!1===h?r.a.createElement("div",{className:t.container},r.a.createElement(E.a,{variant:"h5",className:t.title},"LOGIN"),void 0===p?r.a.createElement("div",null):"0"===p?r.a.createElement(E.a,{className:t.responseSuccess},"Your account have been confirmed! Please login"):r.a.createElement(E.a,{className:t.responseFail},"Error when confirm your account.Please try again"),r.a.createElement("div",{className:t.main},r.a.createElement(oe.a,{required:!0,id:"username",label:"Username",type:"text",name:"username",variant:"outlined",className:t.input,onChange:g}),r.a.createElement(oe.a,{required:!0,id:"password",label:"Password",type:"password",name:"password",variant:"outlined",className:t.input,onChange:g}),r.a.createElement("div",{style:{width:"100%",textAlign:"center"}},r.a.createElement(b.a,{variant:"contained",color:"primary",onClick:function(e){se.a.post(me+"/authenticate",i).then((function(e){localStorage.setItem("jwt",e.data.jwt);var t={isAuthenticated:!0,id:e.data.user_id,email:e.data.user_email,name:e.data.user_name,user_avatar:e.data.user_avatar,is_admin:e.data.is_admin};f(A(t)),d.state?c.push(d.state.nextUrl):c.push("/"),f(O({message:"Login Success",type:"success"}))})).catch((function(e){return f(O({message:e.response.data.message,type:"error"}))}))},className:t.buttonLogin}," Login")),r.a.createElement(N.a,{variant:"middle"}),r.a.createElement("div",{className:t.moreOption},r.a.createElement(E.a,{className:t.toSignup},"Don't have account yet? Click ",r.a.createElement(ge.b,{to:"/signup",style:{color:I.palette.primary.dark}},"Sign up")),r.a.createElement(E.a,{className:t.forgotPassword,onClick:function(){o(Object(m.a)(Object(m.a)({},i),{},{isOpen:!0}))}},"Forgot password?"),r.a.createElement(E.a,{className:t.forgotPassword,onClick:function(){o(Object(m.a)(Object(m.a)({},i),{},{is_confirm_open:!0}))}},"Not confirm your account yet?"))),r.a.createElement(he.a,{open:i.isOpen,onClose:v,"aria-labelledby":"form-dialog-title"},r.a.createElement(fe.a,{id:"form-dialog-forgot_password"},"Forgot Password"),r.a.createElement(be.a,{style:{maxWidth:"20rem"}},r.a.createElement("div",null,0===i.isSent?r.a.createElement("div",null):1===i.isSent?r.a.createElement(E.a,{className:t.responseSuccess},"An email was sent to your email. Please check your email"):r.a.createElement(E.a,{className:t.responseFail},"Error when sending email.Please try again")),r.a.createElement("div",{className:t.main},r.a.createElement(oe.a,{autoFocus:!0,margin:"dense",label:"Email",type:"email",value:i.emailPass,name:"emailPass",onChange:g,fullWidth:!0}),r.a.createElement(b.a,{style:{width:"100%",marginTop:"1rem"},color:"primary",variant:"contained",className:t.buttonLogin,onClick:function(){var e={email:i.emailPass};we(me+"/reset_password",{},e,!1).then((function(e){o(Object(m.a)(Object(m.a)({},i),{},{isSent:1}))})).catch((function(e){o(Object(m.a)(Object(m.a)({},i),{},{isSent:2}))}))}},r.a.createElement(ye.a,{style:{paddingRight:"1rem"}}),"Send"))),r.a.createElement(Ee.a,null,r.a.createElement(b.a,{onClick:v,color:"primary"},"Cancel"))),r.a.createElement(he.a,{open:i.is_confirm_open,onClose:y,"aria-labelledby":"form-dialog-confirm"},r.a.createElement(fe.a,{id:"form-dialog-confirm"},"Confirm account"),r.a.createElement(be.a,{style:{maxWidth:"20rem"}},r.a.createElement("div",null,0===i.isSent?r.a.createElement("div",null):1===i.isSent?r.a.createElement(E.a,{className:t.responseSuccess},"An email reset password was sent to your email. Please check your email"):r.a.createElement(E.a,{className:t.responseFail},"Error when sending email.Please try again")),r.a.createElement("div",{className:t.main},r.a.createElement(oe.a,{autoFocus:!0,margin:"dense",label:"Email",type:"email",value:i.emailConfirm,name:"emailConfirm",onChange:g,fullWidth:!0}),r.a.createElement(b.a,{style:{width:"100%",marginTop:"1rem"},color:"primary",variant:"contained",className:t.buttonLogin,onClick:function(){_e(me+"/re_confirm",{email:i.emailConfirm},!1).then((function(e){o(Object(m.a)(Object(m.a)({},i),{},{isSent:1}))})).catch((function(e){o(Object(m.a)(Object(m.a)({},i),{},{isSent:2}))}))}},r.a.createElement(ye.a,{style:{paddingRight:"1rem"}}),"Send"))),r.a.createElement(Ee.a,null,r.a.createElement(b.a,{onClick:y,color:"primary"},"Cancel")))):r.a.createElement(_.a,{to:"/"}))};function Ce(e){var t=new RegExp("^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})");return!!e.match(t)}var Se=Object(y.a)({container:{display:"flex",flexDirection:"column",margin:function(e){return e.isMobile?"3rem auto":"6rem auto"},width:"100%",maxWidth:"25rem","&>*":{marginTop:"1rem"}},input:{borderRadius:"none",width:"100%"},title:{width:"100%",textAlign:"center"},textInput:{},buttonSignup:{boxShadow:"none",margin:"auto",padding:"0.7rem 1rem 0.7rem 1rem","&:hover":{boxShadow:"none"}},main:{padding:"0 1rem","&>*":{marginTop:"1rem"}}}),Te=function(){var e=Object(P.a)(I.breakpoints.down("sm")),t=Se({isMobile:e}),a=Object(w.b)(),l=Object(n.useState)({username:"",password:"",name:"",email:"",re_password:""}),i=Object(u.a)(l,2),o=i[0],c=i[1],d=function(e){var t=e.target.value,a=e.target.name;c(Object(m.a)(Object(m.a)({},o),{},Object(s.a)({},a,t)))},p=Object(w.c)((function(e){return e.AuthenReducer})).isAuthenticated;return r.a.createElement("div",null,!1===p?r.a.createElement("div",{className:t.container},r.a.createElement(E.a,{variant:"h6",className:t.title},"SIGN UP"),r.a.createElement("div",{className:t.main},r.a.createElement(oe.a,{required:!0,label:"Username",type:"text",name:"username",className:t.input,variant:"outlined",onChange:d}),r.a.createElement(oe.a,{required:!0,label:"Name",type:"text",name:"name",className:t.input,variant:"outlined",onChange:d}),r.a.createElement(oe.a,{required:!0,label:"Email",type:"email",name:"email",className:t.input,variant:"outlined",onChange:d}),r.a.createElement(oe.a,{required:!0,label:"Password",type:"password",name:"password",className:t.input,variant:"outlined",onChange:d}),r.a.createElement(oe.a,{required:!0,label:"Re-Password",type:"password",name:"re_password",className:t.input,variant:"outlined",onChange:d}),r.a.createElement("div",{style:{width:"100%",textAlign:"center"}},r.a.createElement(b.a,{variant:"contained",color:"primary",onClick:function(e){o.password===o.re_password?Ce(o.password)?!function(e){var t=new RegExp("^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$");return!!e.match(t)}(o.email)?a(O({message:"Invalid Email!",type:"error"})):""!==o.username&&""!==o.name?se.a.post(me+"/sign_up",o).then((function(e){a(O({message:"Sign up success,a mail is sent to your email to verify your account. Please check!",type:"success"}))})).catch((function(e){return a(O({message:"Fail when sign up",type:"error"}))})):a(O({message:"You need to fill all required field",type:"error"})):a(O({message:"Invalid Password! Password must be contain at least one lowercase letter, one uppercase letter, one numeric digit, and one special character",type:"error"})):a(O({message:"Your confirm password is not match. Please try again",type:"error"}))},className:t.buttonSignup}," Sign up")))):r.a.createElement(_.a,{to:"/"}))},Re=a(375),Le=a(110),Pe=a.n(Le),De=a(99),Be=a.n(De),ze=a(76),Me=a.n(ze),Ie=a(361),We=a(305),Fe=a(118),He=a(378),Ge=a(366),Qe=a(168),Ue=a.n(Qe),qe=a(56),Ke=a.n(qe),Ye=Object(y.a)({container:{display:"flex",flexDirection:"row",padding:"1rem 0.5rem 0.5rem 0",borderLeft:"0.3rem solid ".concat(I.palette.primary.main),"&:hover":{borderLeft:"0.6rem solid ".concat(I.palette.primary.main)}},image:{width:function(e){return e.isMobile?"2.5rem":"3rem"},height:function(e){return e.isMobile?"2.5rem":"3rem"},borderRadius:"50%",marginRight:"0.5rem",marginLeft:"1rem"},detail:{width:"100%",display:"flex",flexDirection:"column",position:"relative"},iconEdit:{position:"absolute",right:0},commentContainer:{display:"flex",paddingTop:"0.5rem",flexDirection:"row"},elementComment:{display:"flex",flexDirection:"row",paddingRight:"1rem",opacity:"0.3"},numComment:{fontSize:function(e){return e.isMobile?"0.9rem":"1rem"},paddingLeft:"0.2rem"},iconComment:{fontSize:function(e){return e.isMobile?"0.9rem":"1rem"},margin:"auto"},containerTitle:{textAlign:"left",paddingTop:"0.2rem"},title:{fontSize:"1.1rem",color:"black",textDecoration:"None","&:hover":{color:I.palette.primary}},tags:{display:"inline-block",fontSize:"0.8rem",backgroundColor:"#dee3e0",borderRadius:"0.2rem",marginLeft:"0.5rem",padding:"0.1rem 0.2rem 0.1rem 0.2rem",border:"1px solid #d7d9d7",opacity:"0.5","&:hover":{cursor:"pointer",boxShadow:"0px 2px 18px -8px rgba(0,0,0,0.75)",backgroundColor:"#d7d9d7"}},author:{display:"flex",flexDirection:function(e){return e.isMobile?"column":"row"}},writer:{fontSize:"0.9rem",color:I.palette.primary.dark,textDecoration:"None",paddingRight:"1rem",opacity:"1","&:hover":{cursor:"pointer"}},namecontainer:{display:"flex",flexDirection:"row"}}),Je=function(e){var t=e.post,a=e.user,n=Object(P.a)(I.breakpoints.down("md")),l=Ye({isMobile:n}),i=Object(w.c)((function(e){return e.AuthenReducer})),o=i.id,c=i.isAuthenticated,m=i.is_admin,d=Object(_.g)(),p=r.a.useRef("123"),g=r.a.useState({isDeleted:!1}),b=Object(u.a)(g,2),h=b[0],v=b[1],y=r.a.useState(!1),A=Object(u.a)(y,2),O=A[0],j=A[1];return r.a.createElement(Re.a,null,h.isDeleted?null:r.a.createElement(Re.a,{className:l.container},r.a.createElement("img",{className:l.image,src:a.avatar_hash,alt:""}),r.a.createElement(Re.a,{className:l.detail},r.a.createElement("div",{align:"left",className:l.author},r.a.createElement("div",{className:l.namecontainer},r.a.createElement(ge.b,{className:l.writer,to:"/profile/".concat(a.user_id)},a.name)),n?null:r.a.createElement("div",{style:{flexGrow:1}}),r.a.createElement(E.a,{style:{fontSize:"0.8rem",opacity:"0.5",marginRight:"1rem"}},Me()(t.date_post).fromNow())),r.a.createElement(Re.a,{className:l.containerTitle},r.a.createElement(ge.b,{className:l.title,to:"/post/".concat(t.post_id)},t.title),t.tags.map((function(e,t){var a;return r.a.createElement("div",(a={key:t,className:l.tags},Object(s.a)(a,"key",t),Object(s.a)(a,"onClick",(function(){d.push("/tag/".concat(e.tag_id))})),a),e.tag_name)}))),r.a.createElement(Re.a,{className:l.commentContainer},r.a.createElement(Re.a,{className:l.elementComment},r.a.createElement(Be.a,{className:l.iconComment}),r.a.createElement(E.a,{className:l.numComment},t.num_views)),r.a.createElement(Re.a,{className:l.elementComment},r.a.createElement(Pe.a,{className:l.iconComment}),r.a.createElement(E.a,{className:l.numComment},t.num_comment)),r.a.createElement(Re.a,{className:l.elementComment,style:t.is_liked?{opacity:"1"}:{}},r.a.createElement(Ke.a,{color:t.is_liked?"primary":"inherit",className:l.iconComment}),r.a.createElement(E.a,{className:l.numComment},t.num_like)))),r.a.createElement("div",null,c&&o===a.user_id||m?r.a.createElement("div",null,r.a.createElement(f.a,{ref:p,"aria-controls":"menu-list-grow","aria-haspopup":"true",onClick:function(){j(!0)},size:"small"},r.a.createElement(Ue.a,{style:{fontSize:"1.5rem"}})),r.a.createElement(Ie.a,{open:O,anchorEl:p.current,role:void 0,disablePortal:!0,onClose:function(){j(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"left"}},r.a.createElement(We.a,{in:!0},r.a.createElement(Fe.a,null,r.a.createElement(He.a,{id:"menu-list-grow"},r.a.createElement(Ge.a,{onClick:function(){d.push("/edit_post/".concat(t.post_id))}},"Edit"),r.a.createElement(Ge.a,{onClick:function(){Ae(ue+"/".concat(t.post_id),{},!0).then((function(e){v({isDeleted:!0})}))}},"Delete")))))):null)))},Ze=a(371),Xe=a(367),Ve=Object(T.a)({root:{borderBottom:"1px solid #e8e8e8"},indicator:{backgroundColor:I.palette.primary.main}})(Ze.a),$e=Object(T.a)((function(e){return{root:{textTransform:"none",minWidth:72,fontWeight:e.typography.fontWeightRegular,paddingRight:e.spacing(4),fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),"&:hover":{color:e.palette.primary.light,opacity:1},"&$selected":{color:e.palette.primary.dark,fontWeight:e.typography.fontWeightMedium},"&:focus":{color:e.palette.primary.main}},selected:{}}}))((function(e){return r.a.createElement(Xe.a,Object.assign({disableRipple:!0},e))})),et=function(){var e=Object(_.h)(),t=Object(_.g)(),a="/p/newest"===e.pathname?0:"/p/saved"===e.pathname?1:2,n=Object(w.c)((function(e){return e.AuthenReducer})),l=n.isAuthenticated;n.id;return r.a.createElement("div",{style:{}},r.a.createElement(Ve,{value:a,onChange:function(e,a){t.push(0===a?"/p/newest":1===a?"/p/saved":"/p/followed_tags")}},r.a.createElement($e,{label:"New Posts"}),l?r.a.createElement($e,{label:"Saved Posts"}):null,l?r.a.createElement($e,{label:"Followed Tags"}):null))},tt=a(372),at=(a(258),function(){return r.a.createElement("div",null,r.a.createElement("div",{id:"inTurnBlurringTextG"},r.a.createElement("div",{id:"inTurnBlurringTextG_1",className:"inTurnBlurringTextG"},"L"),r.a.createElement("div",{id:"inTurnBlurringTextG_2",className:"inTurnBlurringTextG"},"o"),r.a.createElement("div",{id:"inTurnBlurringTextG_3",className:"inTurnBlurringTextG"},"a"),r.a.createElement("div",{id:"inTurnBlurringTextG_4",className:"inTurnBlurringTextG"},"d"),r.a.createElement("div",{id:"inTurnBlurringTextG_5",className:"inTurnBlurringTextG"},"i"),r.a.createElement("div",{id:"inTurnBlurringTextG_6",className:"inTurnBlurringTextG"},"n"),r.a.createElement("div",{id:"inTurnBlurringTextG_7",className:"inTurnBlurringTextG"},"g"),r.a.createElement("div",{id:"inTurnBlurringTextG_8",className:"inTurnBlurringTextG"},"."),r.a.createElement("div",{id:"inTurnBlurringTextG_9",className:"inTurnBlurringTextG"},"."),r.a.createElement("div",{id:"inTurnBlurringTextG_10",className:"inTurnBlurringTextG"},".")))}),nt=Object(y.a)({root:{textAlign:"center"}}),rt=function(){var e=Object(P.a)(I.breakpoints.down("md")),t=nt({isMobile:e}),a=Object(_.h)(),l=xe.a.parse(a.search).page,i=a.pathname,o=Object(n.useState)({isLoading:!0,posts:[],total_pages:1,page:l}),c=Object(u.a)(o,2),s=c[0],d=c[1],p=Object(_.g)(),g=Object(w.c)((function(e){return e.AuthenReducer})),f=g.id,b=g.isAuthenticated;Object(n.useEffect)((function(){d(Object(m.a)(Object(m.a)({},s),{},{isLoading:!0})),_e(ue+"/get_all",b?{type:"/p/newest"===i?0:"/p/saved"===i?1:2,page:l||1,user_current_id:f}:{type:"/p/newest"===i?0:"/p/saved"===i?1:2,page:l||1},!1).then((function(e){d({isLoading:!1,posts:e.data.Post,page:e.data.page,total_pages:e.data.total_pages})}))}),[l,i]);return r.a.createElement("div",{className:t.root},!0===s.isLoading?r.a.createElement("div",{style:{marginTop:"2rem"}},r.a.createElement(at,null)):r.a.createElement("div",null,"/p/followed_tags"===i?r.a.createElement("div",{style:{marginTop:"4rem",fontSize:"2rem"}},"Inprogress..."):r.a.createElement(Re.a,{style:{textAlign:"center"}},r.a.createElement(Re.a,null,s.posts.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(Je,{post:e,user:e.author}),r.a.createElement(N.a,null))}))),r.a.createElement(Re.a,null,s.total_pages<=1?null:r.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%"}},r.a.createElement(tt.a,{page:s.page,count:s.total_pages,variant:"outlined",style:{marginTop:"1rem",alignSelf:"center"},color:"primary",onChange:function(e,t){p.push("".concat(i,"?page=").concat(t))}}))))))},lt=Object(y.a)({container:{},title:{display:"flex",flexDirection:"row"},image:{height:"2.5rem",width:"2.5rem",borderRadius:"50%"},commentContainer:{display:"flex",flexDirection:"row"},elementComment:{display:"flex",flexDirection:"row",paddingRight:"1rem",opacity:"0.3"},numComment:{fontSize:"1rem",paddingLeft:"0.2rem"},iconComment:{fontSize:"1rem",margin:"auto"},titlePosts:{fontSize:"1rem",color:"black",textDecoration:"None","&:hover":{color:I.palette.primary}}}),it=function(){var e=lt(),t=r.a.useState({isLoadding:!0,posts:[]}),a=Object(u.a)(t,2),n=a[0],l=a[1];return r.a.useEffect((function(){l(Object(m.a)(Object(m.a)({},n),{},{isLoadding:!0})),_e(ue+"/most_post",{},!1).then((function(e){l(Object(m.a)(Object(m.a)({},n),{},{isLoadding:!1,posts:e.data.post}))}))}),[]),r.a.createElement("div",{className:e.container},r.a.createElement(E.a,{style:{display:"inline-block",fontSize:"1.2rem",color:I.palette.primary.main}},"Popular Posts This Week"),r.a.createElement(N.a,{style:{margin:"0 0 0.7rem 0"}}),n.posts.map((function(t,a){return r.a.createElement("div",{style:{overflow:"hidden"},key:t.post_id},r.a.createElement(ge.b,{to:"/post/".concat(t.post_id),className:e.titlePosts},t.title),r.a.createElement(Re.a,{className:e.commentContainer},r.a.createElement(Re.a,{className:e.elementComment},r.a.createElement(Be.a,{className:e.iconComment}),r.a.createElement(E.a,{className:e.numComment},t.num_views)),r.a.createElement(Re.a,{className:e.elementComment,style:t.is_liked?{opacity:"1"}:{}},r.a.createElement(Ke.a,{color:"inherit",className:e.iconComment}),r.a.createElement(E.a,{className:e.numComment},t.num_like))),r.a.createElement(ge.b,{to:"/profile/".concat(t.author.user_id),style:{fontSize:"0.8rem",opacity:"0.7",color:I.palette.primary.main}},t.author.name),r.a.createElement(N.a,{style:{margin:"0.7rem 0 0.7rem 0"}}))})))},ot=function(){return r.a.createElement("div",null)},ct=Object(y.a)({root:{width:"400px",height:"400px",marginTop:"4rem",padding:"1rem",marginRight:"2rem",alignSelf:"flex-start",position:"sticky",top:0}}),st=function(){var e=ct();return r.a.createElement("div",{className:e.root},r.a.createElement(it,null),r.a.createElement(ot,null))},mt=function(){var e=Object(P.a)(I.breakpoints.down("sm"));return r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%",padding:e?"2rem 1rem 1rem 1rem":"4rem 0rem 2rem 2rem"}},r.a.createElement(et,null),r.a.createElement(_.b,{path:"/p/newest",component:rt}),r.a.createElement(_.b,{path:"/p/saved",component:rt}),r.a.createElement(_.b,{path:"/p/followed_tags",component:rt})),e?null:r.a.createElement(st,null))},dt=a(170),ut=a.n(dt),pt=a(171),gt=a.n(pt),ft=Object(y.a)({contents:{display:"flex",flexDirection:function(e){return e.isMobile?"column":"row"}},image:{minWidth:"10rem",maxWidth:"10rem",height:"10rem",borderRadius:"0.5rem",margin:"auto"},main:{"&>*":{paddingBottom:"1rem"}}});function bt(e){var t=e.data,a=e.profileChange,n=Object(w.c)((function(e){return e.togglePopUpReducer.profile_popup})),l=Object(w.b)(),i=Object(P.a)(I.breakpoints.down("sm")),o=r.a.useState({fullName:t.fullName,email:t.email,about_me:t.about_me,address:t.address,avatar_hash:t.avatar_hash}),c=Object(u.a)(o,2),d=c[0],p=c[1],g=function(){l({type:"CLOSE_PROFILE_POPUP"})},f=function(e){var t=e.target.name,a=e.target.value;p(Object(m.a)(Object(m.a)({},d),{},Object(s.a)({},t,a)))},E=ft({isMobile:i});return r.a.createElement("div",null,r.a.createElement(he.a,{open:n,onClose:g,"aria-labelledby":"form-dialog-title"},r.a.createElement(fe.a,{id:"form-dialog-title"},"Profile"),r.a.createElement(be.a,{className:E.contents},r.a.createElement("img",{className:E.image,src:d.avatar_hash,alt:""}),r.a.createElement(N.a,{orientation:i?"horizontal":"vertical",flexItem:!0,style:{margin:"0 1rem 0 1rem"}}),r.a.createElement("div",{className:E.main},r.a.createElement(oe.a,{margin:"dense",label:"Full name",type:"text",value:d.fullName,name:"fullName",onChange:f,fullWidth:!0}),r.a.createElement(oe.a,{margin:"dense",label:"Email Address",type:"email",value:d.email,fullWidth:!0,disabled:!0}),r.a.createElement(oe.a,{margin:"dense",label:"Address",type:"text",value:d.address,fullWidth:!0,name:"address",onChange:f}),r.a.createElement(oe.a,{margin:"dense",label:"About me",value:d.about_me,type:"text",fullWidth:!0,rows:"4",name:"about_me",onChange:f,multiline:!0}))),r.a.createElement(Ee.a,null,r.a.createElement(b.a,{onClick:g,color:"primary"},"Cancel"),r.a.createElement(b.a,{onClick:function(){var e={user_id:t.user_id,address:d.address,about_me:d.about_me,name:d.fullName};Oe(de+"/user_profile",{},e,!0).then((function(e){a(d),l({type:"CLOSE_PROFILE_POPUP"})})).catch((function(e){return l(O({message:"Fail to change user",type:"error"}))}))},color:"primary"},"Save"))))}var Et=a(169),ht=a.n(Et),vt=Object(y.a)({followerAvatar:{width:"1.8rem",height:"1.8rem",borderRadius:"50%","&:hover":{cursor:"pointer"}},imageContainer:{paddingTop:"0.5rem",display:"inline-grid",gridTemplateColumns:"auto auto auto auto auto auto auto auto auto auto",gridColumnGap:"0.7rem",gridRowGap:"0.8rem"},moreButton:{opacity:"0.7",fontSize:"1rem",margin:"auto","&:hover":{cursor:"pointer",opacity:"1"}}}),yt=function(e){var t=e.user_id,a=vt(),n=r.a.useState({followers:[],number_follower:0,user_name:"",isLoading:!0}),l=Object(u.a)(n,2),i=l[0],o=l[1],c=Object(_.g)();return r.a.useEffect((function(){o(Object(m.a)(Object(m.a)({},i),{},{isLoading:!0})),_e(de+"/".concat(t,"/followers"),{},!0).then((function(e){o({isLoading:!1,followers:e.data.followers,number_follower:e.data.total_followers,user_name:e.data.user_name})}))}),[t]),r.a.createElement("div",{style:{paddingTop:"1rem"}},i.isLoading?r.a.createElement("div",null):r.a.createElement("div",null,r.a.createElement(E.a,{style:{paddingBottom:"0.2rem",opacity:"0.7"}},"".concat(i.number_follower," people following ").concat(i.user_name)),r.a.createElement("div",{className:a.imageContainer},i.followers.map((function(e,t){return r.a.createElement(j.a,{title:"".concat(e.user_name),interactive:!0,key:t},r.a.createElement("img",{alt:"",className:a.followerAvatar,src:e.user_avatar,onClick:function(){c.push("/profile/".concat(e.user_id))}}))})),i.number_follower-19<0?r.a.createElement("div",null):r.a.createElement(j.a,{title:"".concat(i.number_follower-19," other peoples"),interactive:!0},r.a.createElement(ht.a,{className:a.moreButton})))))},_t=Object(y.a)({rootContainer:{paddingTop:"2rem"},container:{display:"flex",flexDirection:"column",padding:function(e){return e.isMobile?"1rem":"2rem"}},image:{width:"17rem",height:"17rem",borderRadius:"0.5rem",margin:"0 1rem"},boxDetails:{paddingLeft:"2rem",display:"flex",flexDirection:"column"},nameText:{fontWeight:"bold",fontSize:"2rem"},element:{paddingTop:"1rem"},author:{paddingTop:"1rem",fontStyle:"italic",fontSize:"0.8rem"},button:{marginTop:"1rem",float:"left",bottom:0},field:{display:"flex",flexDirection:"row"},followText:{display:"flex",flexDirection:"column",width:"33%",textAlign:"center"},imageContainer:{display:"flex",flexDirection:function(e){return e.isMobile?"column":"row"}},followContainer:{width:"100%",display:"flex",flexDirection:"row",marginTop:"1rem"},titleContainer:{display:"flex",flexDirection:"row`"},followBtnProfile:{fontSize:"0.8rem",lineHeight:"0.8rem",display:"block",margin:"0.9rem",boxShadow:"none"},left:{width:function(e){return e.isMobile?"100%":""}},right:{minWidth:"300px",marginLeft:"3rem"},imageMobile:{width:"7rem",height:"7rem",borderRadius:"50%",textAlign:"center",display:"block",margin:"auto"},nameMobile:{marginTop:"0.5rem",fontWeight:"bold",fontSize:"1.3rem",textAlign:"center"},buttonMobile:{marginTop:"0.5rem"}}),wt=function(e){var t=e.user_id,a=Object(P.a)(I.breakpoints.down("sm")),l=_t({isMobile:a}),i=Object(w.b)(),o=Object(n.useState)({isLoading:!0,fullName:"Anonymous",email:"anonymous@gmail.com",address:"",member_since:"06-01-1996",about_me:"N/A",avatar_hash:"",number_follower:0,number_followed:0,is_followed:!1,number_posts:0}),c=Object(u.a)(o,2),s=c[0],d=c[1],p=Object(w.c)((function(e){return e.AuthenReducer})),g=p.id,f=p.isAuthenticated;Object(n.useEffect)((function(){var e=f?{profile_id:t,my_user_id:g}:{profile_id:t};d(Object(m.a)(Object(m.a)({},s),{},{isLoading:!0})),_e(de+"/user_profile",e,!1).then((function(e){d({user_id:t,isLoading:!1,fullName:e.data.name,email:e.data.email,address:e.data.address,about_me:e.data.about_me,member_since:e.data.member_since,avatar_hash:e.data.avatar_hash,number_follower:e.data.number_follower,number_followed:e.data.number_followed,is_followed:e.data.is_followed,number_posts:e.data.total_posts})})).catch((function(e){return d(Object(m.a)(Object(m.a)({},s),{},{isLoading:!1}))}))}),[t]);var h=function(){we(de+"/follow",{user_follow:t},null,!0).then((function(e){return d(Object(m.a)(Object(m.a)({},s),{},{number_follower:s.number_follower+1,is_followed:!0}))}))},v=function(){Ae(de+"/follow",{user_follow:t},!0).then((function(e){return d(Object(m.a)(Object(m.a)({},s),{},{number_follower:s.number_follower-1,is_followed:!1}))}))};return r.a.createElement("div",{className:l.rootContainer},s.isLoading?r.a.createElement("div",null):r.a.createElement("div",null,r.a.createElement("div",{className:l.container},r.a.createElement("div",null,a?r.a.createElement("div",null,r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("img",{className:l.imageMobile,src:s.avatar_hash,alt:""})),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(E.a,{align:"left",className:l.nameMobile},s.fullName),f&&parseInt(t)!==g?s.is_followed?r.a.createElement(b.a,{variant:"contained",color:"primary",style:{lineHeight:"1.4rem"},onClick:v},"Following"):r.a.createElement(b.a,{variant:"outlined",color:"primary",style:{lineHeight:"1.4rem"},onClick:h},"Follow"):null,r.a.createElement(E.a,{style:{wordWrap:"break-word",wordBreak:"break-all",fontSize:"0.9rem",marginTop:"0.3rem"}},s.email),r.a.createElement("div",{className:l.followContainer},r.a.createElement("div",{className:l.followText},r.a.createElement(E.a,{style:{fontSize:"0.7rem"}},"FOLLOWERS"),r.a.createElement(E.a,{style:{fontSize:"1.5rem",color:"green"}},s.number_follower)),r.a.createElement(N.a,{orientation:"vertical",flexItem:!0}),r.a.createElement("div",{className:l.followText},r.a.createElement(E.a,{style:{fontSize:"0.7rem"}},"FOLLOWING"),r.a.createElement(E.a,{style:{fontSize:"1.5rem",color:"red"}},s.number_followed)),r.a.createElement(N.a,{orientation:"vertical",flexItem:!0}),r.a.createElement("div",{className:l.followText},r.a.createElement(E.a,{style:{fontSize:"0.7rem"}},"POSTS"),r.a.createElement(E.a,{style:{fontSize:"1.5rem"}},s.number_posts))),parseInt(t)===g?r.a.createElement(b.a,{className:l.buttonMobile,variant:"outlined",onClick:function(){return i({type:"OPEN_PROFILE_POPUP"})}},"Edit Profile"):r.a.createElement("div",null))):r.a.createElement("div",{className:l.imageContainer},r.a.createElement("div",{className:l.left},r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement("div",null,r.a.createElement("img",{className:l.image,src:s.avatar_hash,alt:""}),r.a.createElement("div",{className:l.followContainer},r.a.createElement("div",{className:l.followText},r.a.createElement(E.a,{style:{fontSize:"0.7rem"}},"FOLLOWERS"),r.a.createElement(E.a,{style:{fontSize:"1.5rem",color:"green"}},s.number_follower)),r.a.createElement(N.a,{orientation:"vertical",flexItem:!0}),r.a.createElement("div",{className:l.followText},r.a.createElement(E.a,{style:{fontSize:"0.7rem"}},"FOLLOWING"),r.a.createElement(E.a,{style:{fontSize:"1.5rem",color:"red"}},s.number_followed)),r.a.createElement(N.a,{orientation:"vertical",flexItem:!0}),r.a.createElement("div",{className:l.followText},r.a.createElement(E.a,{style:{fontSize:"0.7rem"}},"POSTS"),r.a.createElement(E.a,{style:{fontSize:"1.5rem"}},s.number_posts)))),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between"}},r.a.createElement("div",null,r.a.createElement("div",{className:l.titleContainer},r.a.createElement(E.a,{align:"left",className:l.nameText},s.fullName),f&&parseInt(t)!==g?r.a.createElement("div",null,s.is_followed?r.a.createElement(b.a,{variant:"contained",className:l.followBtnProfile,color:"primary",onClick:v},"Following"):r.a.createElement(b.a,{variant:"outlined",color:"primary",className:l.followBtnProfile,onClick:h},"Follow")):r.a.createElement("div",null)),r.a.createElement("div",{className:l.field},r.a.createElement(ut.a,{style:{paddingRight:"0.5rem",fontSize:"1.2rem"}}),r.a.createElement(E.a,{style:{wordWrap:"break-word",wordBreak:"break-all",fontSize:"0.9rem"}},s.email)),r.a.createElement("div",{className:l.field},r.a.createElement(gt.a,{style:{paddingRight:"0.5rem",fontSize:"1.2rem"}}),r.a.createElement(E.a,{align:"left",style:{wordWrap:"break-word",wordBreak:"break-all",fontSize:"0.9rem"}},r.a.createElement("a",{href:"https://www.google.com/maps/place/".concat(s.address)},s.address))),r.a.createElement(E.a,{className:l.element,align:"left"},s.about_me)),r.a.createElement("div",{style:{marginBottom:"4.5rem"}},r.a.createElement(E.a,{className:l.author,align:"left"},"Member since ",s.member_since.substr(0,10)),parseInt(t)===g?r.a.createElement(b.a,{className:l.button,variant:"outlined",onClick:function(){return i({type:"OPEN_PROFILE_POPUP"})}},"Edit Profile"):r.a.createElement("div",null))))),r.a.createElement("div",{style:{flexGrow:1}}),r.a.createElement("div",{className:l.right},r.a.createElement(yt,{user_id:t})))),r.a.createElement(N.a,{style:{marginTop:"1rem"}}),r.a.createElement(bt,{data:s,profileChange:function(e){d(Object(m.a)(Object(m.a)({},s),{},{address:e.address,about_me:e.about_me,fullName:e.fullName}))}}))))},At=function(e){var t=e.user_id,a=Object(_.h)(),l=Object(_.g)(),i=xe.a.parse(a.search).page,o=Object(n.useState)({isLoading:!0,posts:[],user:{},page:i||1,itemPerPage:0,total_pages:1}),c=Object(u.a)(o,2),s=c[0],d=c[1];Object(n.useEffect)((function(){d(Object(m.a)(Object(m.a)({},s),{},{isLoading:!0})),_e(ue+"/".concat(t,"/posts"),{page:i||1},!1).then((function(e){d({isLoading:!1,posts:e.data.posts,user:e.data.user,page:e.data.page,itemPerPage:e.data.itemPerPage,total_pages:e.data.total_pages})}))}),[i]);return r.a.createElement("div",null,!0===s.isLoading?null:r.a.createElement(Re.a,{style:{textAlign:"center",padding:"0 1rem 1rem"}},r.a.createElement(Re.a,null,s.posts.map((function(e,t){return r.a.createElement(Je,{post:e,user:s.user,key:t})}))),r.a.createElement(Re.a,null,s.total_pages<=1?null:r.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%"}},r.a.createElement(tt.a,{page:s.page,count:s.total_pages,variant:"outlined",style:{marginTop:"1rem",alignSelf:"center"},color:"primary",onChange:function(e,a){l.push("/profile/".concat(t,"?page=").concat(a))}})))))},Ot=function(e){var t=e.user_id;return r.a.createElement("div",null,r.a.createElement(At,{user_id:t}))},jt=function(){var e=Object(_.i)().userId;return r.a.createElement("div",null,r.a.createElement(wt,{user_id:e}),r.a.createElement(Ot,{user_id:e}))},xt=a(172),kt=a.n(xt),Nt=a(173),Ct=a.n(Nt),St=Object(y.a)({wrapComment:{display:"flex",flexDirection:"row",padding:"0.5rem 0 0.5rem 0"},image:{width:"3rem",height:"3rem",borderRadius:"50%"},textComment:{backgroundColor:"rgba(168, 168, 168, 0.2)",marginLeft:"1rem",wordBreak:"break-all",padding:"1rem",borderRadius:"1rem",position:"relative"},titleComment:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between"},iconLikeContainer:{position:"absolute",display:"flex",flexDirection:"row",backgroundColor:"white",right:0,borderRadius:"1rem",padding:"0.05rem 0.2rem 0.05rem 0.2rem",marginRight:"0.5rem"},iconLike:{backgroundColor:"rgba(0, 55, 255,0.9)",borderRadius:"50%",color:"white",padding:"0.2rem",fontSize:"0.6rem",marginTop:"0.1rem"},numLike:{fontSize:"1rem",lineHeight:"1.2rem",marginLeft:"0.5rem"},date:{fontSize:"0.8rem",color:"gray"},name:{color:"blue"},navLink:{textDecoration:"none"},likeText:{color:function(e){return e.item.is_liked?"rgba(0, 55, 255,0.9)":"gray"},fontSize:"0.8rem",fontWeight:"bold","&:hover":{cursor:"pointer"}},iconDelete:{alignSelf:"center"}}),Tt=function(e){var t=e.item,a=e.post_id,n=e.changeLike,l=St({item:t}),i=Object(w.c)((function(e){return e.AuthenReducer})),o=i.isAuthenticated,c=i.id,s=Object(_.g)(),m=r.a.useState(!1),d=Object(u.a)(m,2),p=d[0],g=d[1];return r.a.createElement("div",null,p?null:r.a.createElement("div",{className:l.wrapComment},r.a.createElement("img",{className:l.image,src:t.user_comment.avatar_hash,alt:""}),r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement("div",{className:l.textComment},r.a.createElement(E.a,{className:l.name},r.a.createElement(ge.b,{className:l.navLink,to:"/profile/".concat(t.user_comment.user_id)},t.user_comment.name)),r.a.createElement(E.a,{className:l.body},t.body_html),t.number_like<=0?null:r.a.createElement(Fe.a,{className:l.iconLikeContainer},r.a.createElement(kt.a,{className:l.iconLike}),r.a.createElement(E.a,{className:l.numLike},t.number_like))),o&&c===t.user_comment.user_id?r.a.createElement(f.a,{className:l.iconDelete,size:"small",onClick:function(e){var a;a=t.comment_id,Ae(ue+"/comments/".concat(a),{},!0).then((function(e){g(!0)}))}},r.a.createElement(Ct.a,null)):null),r.a.createElement("div",{style:{marginTop:"0.2rem"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",marginLeft:"1.5rem"}},r.a.createElement(E.a,{className:l.likeText,onClick:function(e){return r=t.comment_id,void(o?t.is_liked?Ae(ue+"/comments/".concat(r,"/like"),{},!0).then((function(e){var a=t.number_like-1;n(t.comment_id,a,!1)})):we(ue+"/comments/".concat(r,"/like"),{},{},!0).then((function(e){var a=t.number_like+1;n(t.comment_id,a,!0)})):s.push({pathname:"/login",state:{nextUrl:"/post/".concat(a)}}));var r}},t.is_liked?"Liked":"Like"),r.a.createElement(N.a,{orientation:"vertical",flexItem:!0,style:{margin:"0.3rem"}}),r.a.createElement(E.a,{className:l.date},Me()(t.date_comment).fromNow()))))))},Rt=Object(y.a)({container:{},commentContainer:{padding:function(e){return e.isMobile?0:"0 2rem"},display:"flex",flexDirection:"column","&>*":{paddingTop:"1rem"}},text_area:{width:"100%",height:"4rem",borderRadius:"0.2rem",boxSizing:"border-box",padding:"0.5rem"},addButton:{float:"right"},loadMore:{fontSize:"0.8rem",fontStyle:"italic",color:"blue","&:hover":{cursor:"pointer"}}}),Lt=function(e){var t=e.post_id,a=r.a.useState({page:1,isFinished:!1,list_comment:[]}),n=Object(u.a)(a,2),l=n[0],i=n[1],o=r.a.useState(""),c=Object(u.a)(o,2),s=c[0],d=c[1],p=Object(P.a)(I.breakpoints.down("sm")),g=Rt({isMobile:p}),f=Object(w.c)((function(e){return e.AuthenReducer})),h=f.isAuthenticated,v=f.id;r.a.useEffect((function(){_e(ue+"/comments/".concat(t),{page:l.page,item_per_page:5,current_user_id:h?v:0},!1).then((function(e){var t=!1;1===l.page&&1===e.data.total&&(t=!0),i(Object(m.a)(Object(m.a)({},l),{},{isFinished:t,list_comment:e.data.comments}))}))}),[]);var y=function(e,t,a){var n=l.list_comment.map((function(n,r){return n.comment_id===e&&(n.number_like=t,n.is_liked=a),n}));i(Object(m.a)(Object(m.a)({},l),{},{list_comment:n}))};return r.a.createElement("div",{className:g.container},r.a.createElement(E.a,{variant:"h5"},"Comments"),r.a.createElement("div",{className:g.commentContainer},!0===h?r.a.createElement("div",null,r.a.createElement("textarea",{className:g.text_area,value:s,name:"comment",onChange:function(e){e.target.name;var t=e.target.value;d(t)},placeholder:"Leave a comment here..."}),r.a.createElement("div",null,r.a.createElement(b.a,{color:"primary",className:g.addButton,variant:"contained",onClick:function(){we(ue+"/comments",{},{body:s,post_id:t},!0).then((function(e){var t=l.list_comment;d(""),t.unshift(e.data),i(Object(m.a)(Object(m.a)({},l),{},{list_comment:t}))}))}},"Add comment"))):r.a.createElement(E.a,null,"Please ",r.a.createElement(ge.b,{to:"/login"},"login")," to leave a comment!"),r.a.createElement("div",null,l.list_comment.map((function(e,a){return r.a.createElement(Tt,{key:e.comment_id,item:e,post_id:t,changeLike:y})})),l.isFinished?r.a.createElement(Re.a,null,r.a.createElement(E.a,{className:g.loadMore}," ")):r.a.createElement(Re.a,null,r.a.createElement(E.a,{className:g.loadMore,onClick:function(e){var a=l.page+1;_e(ue+"/comments/".concat(t),{page:a,item_per_page:5,current_user_id:h?v:0},!1).then((function(e){var t=l.list_comment.concat(e.data.comments),n=!1;a===e.data.total&&(n=!0),i(Object(m.a)(Object(m.a)({},l),{},{page:a,isFinished:n,list_comment:t}))}))}},"Load more...")))))},Pt=a(175),Dt=a.n(Pt),Bt=a(176),zt=a.n(Bt),Mt=a(100),It=a.n(Mt),Wt=Object(y.a)({tableContent:{minWidth:"250px",maxWidth:"250px",alignSelf:"flex-start",padding:"2rem 2rem",overflowWrap:"break-word",wordWrap:"break-word",hyphens:"auto",float:"right",position:"sticky",top:0,display:"flex",flexDirection:"column",height:"100vh"},header1:{fontSize:"0.9rem",paddingTop:"0.5rem","&:hover":{cursor:"pointer",color:"blue"}},header2:{fontSize:"0.9rem",padding:"0.2rem",lineHeight:"1.2rem","&:hover":{cursor:"pointer",color:"blue"},paddingLeft:"1rem"},bodyContent:{padding:"0.6rem 1rem",height:"100%",overflow:"auto"},likeCmt:{display:"flex",flexDirection:"row",padding:"0rem 1rem 1rem 1rem",justifyContent:"center"}}),Ft=function(e){var t=e.parentData,a=(e.post_id,e.toggle_like),n=Wt();return r.a.createElement("div",{className:n.tableContent},r.a.createElement("div",{className:n.likeCmt},r.a.createElement("div",{style:{width:"45%",textAlign:"center"}},r.a.createElement(E.a,{variant:"h4"},t.data.num_like),r.a.createElement(E.a,{style:{fontSize:"0.8rem"}},"Saved")),r.a.createElement(N.a,{orientation:"vertical",flexItem:!0}),r.a.createElement("div",{style:{width:"45%",textAlign:"center"}},r.a.createElement(E.a,{variant:"h4"},t.data.num_comment),r.a.createElement(E.a,{style:{fontSize:"0.8rem"}},"Comments"))),r.a.createElement(b.a,{variant:t.data.is_liked?"outlined":"contained",style:{borderRadius:"2rem"},color:"primary",onClick:a},t.data.is_liked?r.a.createElement(It.a,{style:{marginRight:"0.3rem",fontSize:"1.2rem"}}):r.a.createElement(Ke.a,{style:{marginRight:"0.3rem",fontSize:"1.2rem"}}),t.data.is_liked?"Saved":"Save"),r.a.createElement(N.a,{style:{marginTop:"1rem"}}),r.a.createElement(E.a,{style:{padding:"1rem 0 0",fontWeight:"bold"}},"Table of contents"),r.a.createElement("div",{className:n.bodyContent},t.list_contents.map((function(e,t){return"H2"===e.tagName?r.a.createElement(E.a,{key:t,onClick:function(){e.scrollIntoView({behavior:"smooth",block:"start"})},className:n.header1}," ",e.textContent):r.a.createElement(E.a,{key:t,onClick:function(){e.scrollIntoView({behavior:"smooth",block:"start"})},className:n.header2}," ",e.textContent)}))))},Ht=a(177),Gt=a.n(Ht),Qt=a(178),Ut=a.n(Qt),qt=(a(259),a(260),a(174)),Kt=a.n(qt),Yt=Object(y.a)({root:{display:"flex",flexDirection:"row",paddingTop:function(e){return e.isMobile?"1rem":"2rem"}},main:{padding:function(e){return e.isMobile?"1rem":"2rem"},overflowWrap:"break-word",wordWrap:"break-word",hyphens:"auto",width:"100%",maxWidth:"800px"},title:{textAlign:"left",fontWeight:"bold",lineHeight:function(e){return e.isMobile?"2.3rem":"3rem"},fontSize:function(e){return e.isMobile?"1.7rem":"2rem"}},tagsContainer:{textAlign:"left",paddingTop:function(e){return e.isMobile?"1rem":"2rem"}},tags:{display:"inline-block",fontSize:"0.8rem",backgroundColor:"#dee3e0",borderRadius:"0.2rem",marginLeft:"0.5rem",padding:"0.1rem 0.2rem 0.1rem 0.2rem",border:"1px solid #d7d9d7",opacity:"0.5","&:hover":{cursor:"pointer",boxShadow:"0px 2px 18px -8px rgba(0,0,0,0.75)",backgroundColor:"#d7d9d7"}},author:{display:"flex",flexDirection:function(e){return e.isMobile?"column":"row"},paddingBottom:function(e){return e.isMobile?"1rem":"3rem"}},image:{width:"3rem",height:"3rem",borderRadius:"50%",marginRight:function(e){return e.isMobile?"0.5rem":"1rem"},gridRowStart:1,gridRowEnd:3},body:{paddingTop:"2.5rem",textAlign:"left"},authorButton:{display:"inline-grid",gridTemplateColumns:"auto auto auto",alignSelf:"flex-start"},name:{textDecoration:"None",fontSize:"1rem",lineHeight:"1.6rem",textAlign:"center",fontWeight:"bold",display:"inline-block"},followBtn:{fontSize:"0.8rem",lineHeight:"0.8rem",display:"inline-block",marginLeft:"1rem"},followGrp:{display:"flex",flexDirection:"row",paddingRight:"1rem"},datePost:{opacity:"0.5",textAlign:function(e){return e.isMobile?"left":"right"},paddingTop:function(e){return e.isMobile?"1rem":"0"}},likeMobile:{color:function(e){return e.state.data.is_liked?I.palette.primary.dark:"black"},opacity:function(e){return e.state.data.is_liked?1:.5},"&:hover":{cursor:"pointer"}}}),Jt=function(){var e=Object(P.a)(I.breakpoints.down("sm")),t=Object(_.i)().post_id,a=Object(n.useState)({list_contents:[],is_followed:!1,isLoading:!0,isHightlighted:!1,data:{title:"Title",tag:[],body:"Body",date_post:"20/3/2020",num_like:0,num_comment:0,num_views:0,is_liked:!1,author:{user_id:0,name:"N/A",avatar_hash:null,number_follower:0,number_posts:0}}}),l=Object(u.a)(a,2),i=l[0],o=l[1];Object(n.useEffect)((function(){if(!1===i.isLoading){var e=Array.from(v.current.querySelectorAll("h2, h3"));o(Object(m.a)(Object(m.a)({},i),{},{list_contents:e}))}}),[i.isLoading]);var c=Object(w.c)((function(e){return e.AuthenReducer})),d=c.id,p=c.isAuthenticated,g=Yt({isMobile:e,state:i}),h=Object(_.g)(),v=Object(n.useRef)("123");Object(n.useEffect)((function(){o(Object(m.a)(Object(m.a)({},i),{},{isLoading:!0}));var e=p?{user_current_id:d}:{};_e(ue+"/".concat(t),e,!1).then((function(e){o(Object(m.a)(Object(m.a)({},i),{},{is_followed:e.data.author.is_followed,isLoading:!1,isHightlighted:!0,data:{title:e.data.title,tag:e.data.tags,body:e.data.body_html,date_post:e.data.date_post,is_liked:e.data.is_liked,num_comment:e.data.num_comment,num_like:e.data.num_like,num_views:e.data.num_views,author:{user_id:e.data.author.user_id,name:e.data.author.name,avatar_hash:e.data.author.avatar_hash,number_follower:e.data.author.number_follower,number_posts:e.data.author.num_posts}}}))}))}),[]),r.a.useEffect((function(){window.Prism.highlightAll()}),[i.isHightlighted]);var y=function(){p?i.data.is_liked?Ae(ue+"/".concat(t,"/like"),{},!0).then((function(e){return o(Object(m.a)(Object(m.a)({},i),{},{data:Object(m.a)(Object(m.a)({},i.data),{},{num_like:i.data.num_like-1,is_liked:!1})}))})):we(ue+"/".concat(t,"/like"),{},null,!0).then((function(e){return o(Object(m.a)(Object(m.a)({},i),{},{data:Object(m.a)(Object(m.a)({},i.data),{},{num_like:i.data.num_like+1,is_liked:!0})}))})):h.push({pathname:"/login",state:{nextUrl:"/post/".concat(t)}})},A=Object(n.useRef)(null),O=r.a.useState(!1),j=Object(u.a)(O,2),x=j[0],k=j[1];return r.a.createElement("div",null,!0===i.isLoading?r.a.createElement("div",null):r.a.createElement("div",{className:g.root},r.a.createElement("div",{className:g.main},r.a.createElement(Re.a,{className:g.container},r.a.createElement(Re.a,{className:g.author},r.a.createElement(Re.a,{className:g.authorButton},r.a.createElement("img",{className:g.image,src:i.data.author.avatar_hash,alt:""}),r.a.createElement(ge.b,{className:g.name,to:"/profile/".concat(i.data.author.user_id)},i.data.author.name),parseInt(i.data.author.user_id)===d?r.a.createElement("div",null):!1!==i.is_followed&&p?r.a.createElement(b.a,{variant:"contained",color:"primary",className:g.followBtn,onClick:function(){Ae(de+"/follow",{user_follow:i.data.author.user_id},!0).then((function(e){o(Object(m.a)(Object(m.a)({},i),{},{data:Object(m.a)(Object(m.a)({},i.data),{},{author:Object(m.a)(Object(m.a)({},i.data.author),{},{number_follower:i.data.author.number_follower-1})}),is_followed:!1}))})).catch((function(e){}))}},"Following"):r.a.createElement(b.a,{variant:"outlined",className:g.followBtn,onClick:function(){p?we(de+"/follow",{user_follow:i.data.author.user_id},null,!0).then((function(e){return o(Object(m.a)(Object(m.a)({},i),{},{data:Object(m.a)(Object(m.a)({},i.data),{},{author:Object(m.a)(Object(m.a)({},i.data.author),{},{number_follower:i.data.author.number_follower+1})}),is_followed:!0}))})).catch((function(e){})):h.push({pathname:"/login",state:{nextUrl:"/post/".concat(t)}})}},"Follow"),r.a.createElement(Re.a,{style:{display:"flex",flexDirection:"row",opacity:"0.5"}},r.a.createElement(Re.a,{className:g.followGrp},r.a.createElement(Dt.a,{style:{paddingRight:"0.2rem"}}),r.a.createElement(E.a,null,i.data.author.number_follower)),r.a.createElement(Re.a,{className:g.followGrp},r.a.createElement(zt.a,{style:{paddingRight:"0.2rem"}}),r.a.createElement(E.a,null,i.data.author.number_posts)))),e?null:r.a.createElement("div",{style:{flexGrow:1}}),r.a.createElement("div",null,r.a.createElement(E.a,{className:g.datePost},i.data.date_post),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",opacity:"1"}},e?null:r.a.createElement("div",{style:{flexGrow:1}}),r.a.createElement(Gt.a,{style:{paddingRight:"0.3rem",opacity:.5}}),r.a.createElement(E.a,{style:{paddingRight:"0.5rem",opacity:.5}},i.data.num_views),e?r.a.createElement(Ke.a,{className:g.likeMobile,onClick:y}):null,e?r.a.createElement(E.a,{style:{paddingRight:"0.5rem",opacity:i.data.is_liked?"1":"0.5",color:i.data.is_liked?I.palette.primary.dark:"black"}},i.data.num_like):null))),r.a.createElement(E.a,{className:g.title},i.data.title),r.a.createElement(Re.a,{className:g.tagsContainer},i.data.tag.map((function(e,t){var a;return r.a.createElement("a",(a={key:t,className:g.tags},Object(s.a)(a,"key",t),Object(s.a)(a,"onClick",(function(){h.push("/tag/".concat(e.tag_id))})),a),e.tag_name)})),r.a.createElement("div",{style:{float:"right"}},p&&d===i.data.author.user_id?r.a.createElement("div",null,r.a.createElement(f.a,{ref:A,"aria-controls":"menu-list-post","aria-haspopup":"true",onClick:function(){k(!0)},size:"large"},r.a.createElement(Ut.a,{style:{fontSize:"1.5rem",color:I.palette.primary.dark}})),r.a.createElement(Ie.a,{open:x,anchorEl:A.current,role:void 0,disablePortal:!0,onClose:function(){k(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"left"}},r.a.createElement(We.a,{in:!0},r.a.createElement(Fe.a,null,r.a.createElement(He.a,{id:"menu-list-post"},r.a.createElement(Ge.a,{onClick:function(){h.push("/edit_post/".concat(t))}},"Edit"),r.a.createElement(Ge.a,{onClick:function(){Ae(ue+"/".concat(t),{},!0).then((function(e){h.push("/")}))}},"Delete")))))):null)),r.a.createElement("div",{ref:v,style:{marginTop:"2rem"}},Kt()(i.data.body))),r.a.createElement(N.a,null),r.a.createElement(Lt,{post_id:t})),e?null:r.a.createElement(Ft,{parentData:i,post_id:t,toggle_like:y})))},Zt=a(368),Xt=function(e,t){if(""!==e){var a=e.split(":",2);return"title"===a[0]?{type:"title",key_word:a[1],page:t}:"tags"===a[0]?{type:"tags",key_word:a[1],page:t}:1===a.length?{type:"body",key_word:a[0],page:t}:{type:"body",key_word:a[1],page:t}}},Vt=0,$t=1,ea=2,ta=Object(y.a)({container:{display:"flex",flexDirection:"row"},root:{padding:"3rem 1rem",width:"100%"},search:{fontSize:"2rem",border:"None",width:"100%","&:focus":{outline:"None"}},instructorContainer:{}}),aa=function(){var e=Object(_.h)(),t=Object(_.g)(),a=ta(),n=xe.a.parse(e.search).page,l=xe.a.parse(e.search).query,i=r.a.useState({queryWord:l,stateLoading:Vt,result:{posts:[],total_pages:1,page:n||1,itemPerPage:0}}),o=Object(u.a)(i,2),c=o[0],d=o[1];return r.a.useEffect((function(){var t=Xt(xe.a.parse(e.search).query,n||1);_e(ue+"/search",t,!1).then((function(t){d(Object(m.a)(Object(m.a)({},c),{},{queryWord:xe.a.parse(e.search).query,stateLoading:ea,result:{posts:t.data.Post,page:t.data.page,itemPerPage:t.data.itemPerPage,total_pages:t.data.total_pages}}))}))}),[e.search,e.page]),r.a.createElement("div",{className:a.container},r.a.createElement("div",{className:a.root},r.a.createElement(le,{disableHoverListener:!0,arrow:!0,placement:"bottom-start",title:r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{style:{fontSize:"0.7rem"}},"Press ",r.a.createElement("div",{style:{border:"1px solid #888a8c",padding:"0 0.5rem 0 0.5rem",borderRadius:"3px",display:"inline-block"}},r.a.createElement(L.a,{style:{fontSize:"0.7rem",paddingRight:"0.3rem"}}),"Enter")," to search"),r.a.createElement("ul",{className:a.instructorContainer},r.a.createElement("li",null,"Type 'keyword' to search on both title and body"),r.a.createElement("li",null,"Type 'title:keyword' to search on both title")))},r.a.createElement(x.a,{className:a.search,onKeyDown:function(e){if("Enter"===e.key){document.getElementById("input-with-search").blur();var t=Xt(c.queryWord,0);d(Object(m.a)(Object(m.a)({},c),{},{stateLoading:$t})),_e(ue+"/search",t,!1).then((function(e){d(Object(m.a)(Object(m.a)({},c),{},{stateLoading:ea,result:{posts:e.data.Post,page:e.data.page,itemPerPage:e.data.itemPerPage,total_pages:e.data.total_pages}}))}))}},id:"input-with-search",onChange:function(e){var t=e.target.name,a=e.target.value;d(Object(m.a)(Object(m.a)({},c),{},Object(s.a)({},t,a)))},name:"queryWord",value:c.queryWord,placeholder:"Enter keyword",startAdornment:r.a.createElement(k.a,null,r.a.createElement(L.a,{style:{paddingRight:"1rem",opacity:"0.5"}}))})),r.a.createElement("div",{style:{padding:"2rem 1rem"}},c.stateLoading===Vt?r.a.createElement("div",null):c.stateLoading===$t?r.a.createElement("div",{style:{height:"100vh"}},r.a.createElement(Zt.a,{style:{paddingTop:"3rem"}})):r.a.createElement(Re.a,{style:{textAlign:"center"}},r.a.createElement(Re.a,null,c.result.posts.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(Je,{post:e,user:e.author}),r.a.createElement(N.a,null))}))),r.a.createElement(Re.a,null,c.result.total_pages<=1?null:r.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%"}},r.a.createElement(tt.a,{page:c.result.page,count:c.result.total_pages,variant:"outlined",style:{marginTop:"1rem",alignSelf:"center"},color:"primary",onChange:function(e,a){t.push("/search?query=".concat(l,"&page=").concat(a))}})))))))},na=Object(y.a)({root:{padding:"3rem 1rem 1rem 1rem"},tagsContainer:{display:"flex",flexDirection:"row",paddingBottom:"2rem"},tagImage:{marginRight:function(e){return e.isMobile,"1rem"},width:"4rem",height:"4rem",borderRadius:"50%"},tagNameContainer:{display:"flex",flexDirection:"column"},tagName:{fontSize:"1.2rem",fontWeight:"bold",marginRight:"1rem",gridColumnStart:1,gridColumnEnd:4},follow:{display:"flex",flexDirection:"row"},followerText:{fontSize:"0.9rem",lineHeight:"1.9rem"},dialogTag:{padding:"1rem",display:"flex",flexDirection:"column"}}),ra=function(){var e=Object(_.i)().tag_id,t=Object(_.g)(),a=Object(w.c)((function(e){return e.AuthenReducer})),n=a.id,l=a.isAuthenticated,i=Object(_.h)(),o=xe.a.parse(i.search).page,c=r.a.useState({isLoading:!1,tag_id:e,tag_name:"",url_image:"",posts:[],total_pages:0,page:o||1,itemPerPage:0,is_followed:!1,num_follower:0,total:0}),s=Object(u.a)(c,2),d=s[0],p=s[1];r.a.useEffect((function(){var t={page:o||1};l&&(t={current_user_id:n,page:o||1}),p(Object(m.a)(Object(m.a)({},d),{},{isLoading:!0})),_e(ue+"/tags/".concat(e,"/post"),t,!1).then((function(e){p(Object(m.a)(Object(m.a)({},d),{},{isLoading:!1,tag_id:e.data.tag_id,tag_name:e.data.tag_name,url_image:e.data.url_image,posts:e.data.Post,total_pages:e.data.total_pages,page:e.data.page,itemPerPage:e.data.itemPerPage,is_followed:e.data.is_followed,num_follower:e.data.num_follower,total:e.data.total}))}))}),[e,o]);var g=Object(P.a)(I.breakpoints.down("sm")),f=na({isMobile:g});return r.a.createElement("div",null,d.isLoading?r.a.createElement("div",{style:{marginTop:"2rem"}},r.a.createElement(at,null)):r.a.createElement("div",{className:f.root},r.a.createElement(Re.a,{className:f.follow},r.a.createElement("div",{className:f.tagsContainer},r.a.createElement("img",{className:f.tagImage,src:d.url_image,alt:""}),r.a.createElement("div",{style:{display:"inline-grid",gridTemplateColumns:"auto auto auto"}},r.a.createElement(E.a,{className:f.tagName},d.tag_name),r.a.createElement(E.a,{className:f.followerText},r.a.createElement("a",{style:{color:"green"}},d.total," "),"Posts"),r.a.createElement(N.a,{orientation:"vertical",flexItem:!0,style:{margin:"0.3rem"}}),r.a.createElement(E.a,{className:f.followerText},r.a.createElement("a",{style:{color:"green"}},d.num_follower," "),"Followers"))),r.a.createElement("div",{style:{flexGrow:1}}),r.a.createElement(Re.a,null,d.is_followed?r.a.createElement(b.a,{onClick:function(){Ae(ue+"/tags/".concat(e,"/follow"),{},!0).then((function(e){return p(Object(m.a)(Object(m.a)({},d),{},{is_followed:!1,num_follower:d.num_follower-1}))}))},variant:"contained",color:"primary",style:{boxShadow:"none"}},"Unfollow"):r.a.createElement(b.a,{onClick:function(){l||t.push({pathname:"/login",state:{nextUrl:"/tag/".concat(e)}}),we(ue+"/tags/".concat(e,"/follow"),{},{},!0).then((function(e){return p(Object(m.a)(Object(m.a)({},d),{},{is_followed:!0,num_follower:d.num_follower+1}))}))},variant:"outlined",color:"primary"},"Follow"))),r.a.createElement(N.a,null),r.a.createElement(Re.a,{style:{textAlign:"center"}},r.a.createElement(Re.a,null,d.posts.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(Je,{post:e,user:e.author}),r.a.createElement(N.a,null))}))),r.a.createElement(Re.a,null,d.total_pages<=1?null:r.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%"}},r.a.createElement(tt.a,{page:d.page,count:d.total_pages,variant:"outlined",style:{marginTop:"1rem",alignSelf:"center"},color:"primary",onChange:function(a,n){t.push("/tag/".concat(e,"?page=").concat(n))}}))))))},la=Object(y.a)({container:{display:"flex",flexDirection:"column",margin:function(e){return e.isMobile?"5rem auto":"6rem auto"},width:"100%",maxWidth:"25rem"},main:{padding:"1rem","&>*":{marginTop:"1rem"}},input:{width:"100%",borderRadius:"none"},title:{textAlign:"center"}}),ia=function(){var e=Object(_.h)(),t=Object(P.a)(I.breakpoints.down("sm")),a=xe.a.parse(e.search),n=a.token,l=a.user_id,i=r.a.useState({user_id:l,token:n,password:"",re_password:""}),o=Object(u.a)(i,2),c=o[0],d=o[1],p=Object(_.g)(),g=function(e){var t=e.target.name,a=e.target.value;d(Object(m.a)(Object(m.a)({},c),{},Object(s.a)({},t,a)))},f=Object(w.b)(),h=la({isMobile:t});return r.a.createElement("div",null,r.a.createElement("div",{className:h.container},r.a.createElement(E.a,{variant:"h5",className:h.title},"RESET PASSWORD"),r.a.createElement("div",{className:h.main},r.a.createElement(oe.a,{required:!0,label:"Password",type:"password",name:"password",variant:"outlined",className:h.input,onChange:g}),r.a.createElement(oe.a,{required:!0,label:"Re-password",type:"password",name:"re_password",variant:"outlined",className:h.input,onChange:g}),r.a.createElement("div",{style:{width:"100%",textAlign:"center"}},r.a.createElement(b.a,{variant:"contained",color:"primary",onClick:function(){if(c.password===c.re_password)if(Ce(c.password)){var e={user_id:c.user_id,token:c.token,password:c.password};we(me+"/change_password",{},e,!1).then((function(e){f(O({message:"Success! Please login with new password",type:"success"})),p.push("/login")})).catch((function(e){f(O({message:"There is some error.Please try again",type:"Error"}))}))}else f(O({message:"Invalid Password! Password must be contain at least one lowercase letter, one uppercase letter, one numeric digit, and one special character",type:"error"}));else f(O({message:"Your confirm password is not match. Please try again",type:"error"}))},className:h.buttonLogin},"Change password")))))},oa=(a(154),a(179)),ca=a.n(oa),sa=Object(y.a)({root:{display:"flex",flexDirection:"row"},image:{height:"7rem",width:"7rem",borderRadius:"0.5rem"},detail:{paddingLeft:"0.8rem"},titleTag:{}}),ma=function(e){var t=e.tag,a=Object(P.a)(I.breakpoints.down("sm")),n=sa({isMobile:a}),l=r.a.useState({is_followed:t.is_followed,num_following:t.num_following}),i=Object(u.a)(l,2),o=i[0],c=i[1],s=Object(w.c)((function(e){return e.AuthenReducer})),d=s.isAuthenticated,p=(s.id,Object(_.g)());return r.a.createElement("div",{className:n.root},r.a.createElement("img",{src:t.tag_image,className:n.image}),r.a.createElement("div",{className:n.detail},r.a.createElement(ge.b,{to:"/tag/".concat(t.tag_id)},r.a.createElement(E.a,{variant:"h6",className:n.titleTag},t.tag_name)),r.a.createElement(E.a,{style:{opacity:"50%",fontSize:"0.9rem"}},r.a.createElement("span",{style:{fontWeight:"bold"}},o.num_following)," Followers"),r.a.createElement(E.a,{style:{opacity:"50%",fontSize:"0.9rem"}},r.a.createElement("span",{style:{fontWeight:"bold"}},t.num_posts)," posts"),r.a.createElement(b.a,{variant:o.is_followed?"contained":"outlined",color:"primary",style:{padding:"0.1rem 1rem 0.1rem 1rem",marginTop:"0.7rem",boxShadow:"none"},onClick:function(){d?o.is_followed?Ae(ue+"/tags/".concat(t.tag_id,"/follow"),{},!0).then((function(e){return c(Object(m.a)(Object(m.a)({},o),{},{is_followed:!1,num_following:o.num_following-1}))})):we(ue+"/tags/".concat(t.tag_id,"/follow"),{},{},!0).then((function(e){return c(Object(m.a)(Object(m.a)({},o),{},{is_followed:!0,num_following:o.num_following+1}))})):p.push({pathname:"/login",state:{nextUrl:"/all_tags"}})}},o.is_followed?r.a.createElement(It.a,{style:{marginRight:"0.3rem",fontSize:"1.2rem"}}):r.a.createElement(ca.a,{style:{fontSize:"1.1rem"}}),o.is_followed?"Followed":"Follow")))},da=Object(y.a)({title:{marginTop:"2rem",padding:"1rem"},main:{display:"grid",gridTemplateColumns:function(e){return e.isMobile?"auto":"auto auto auto"},marginTop:function(e){return e.isMobile?"2rem":"3rem"}},tagContained:{padding:"1rem"},searchContainer:{marginTop:"1rem",padding:"1rem",width:"100%",boxSizing:"border-box"},search:{float:"right",border:"1px solid rgba(0,0,0,0.2)",padding:"0.2rem 0.6rem 0.2rem 0.6rem",borderRadius:"1rem",right:0,width:function(e){return e.isMobile?"100%":""}}}),ua=function(){var e=Object(P.a)(I.breakpoints.down("sm")),t=da({isMobile:e}),a=Object(_.h)(),n=xe.a.parse(a.search).page,l=xe.a.parse(a.search).q,i=Object(_.g)(),o=r.a.useState({isLoading:!1,page:n||1,total_pages:0,total_tags:0,tags:[]}),c=Object(u.a)(o,2),d=c[0],p=c[1],g=Object(w.c)((function(e){return e.AuthenReducer})),f=(g.isAuthenticated,g.id);r.a.useEffect((function(){p(Object(m.a)(Object(m.a)({},d),{},{isLoading:!0})),_e(ue+"/tags",{page:n,current_user_id:f,query_tag:l},!1).then((function(e){p(Object(m.a)(Object(m.a)({},d),{},{total_tags:e.data.total_tags,isLoading:!1,total_pages:e.data.total_pages,page:n,tags:e.data.tags}))}))}),[n,l]);var b=r.a.useState({queryWord:""}),h=Object(u.a)(b,2),v=h[0],y=h[1];return r.a.createElement("div",null,d.isLoading?r.a.createElement("div",null,r.a.createElement("div",{style:{marginTop:"2rem"}},r.a.createElement(at,null))):r.a.createElement("div",{style:{position:"relative"}},r.a.createElement(E.a,{variant:"h4",className:t.title},"Tags ",r.a.createElement("span",null,"(".concat(d.total_tags,")"))),r.a.createElement(N.a,{variant:"middle"}),r.a.createElement("div",{className:t.searchContainer},r.a.createElement(le,{disableHoverListener:!0,arrow:!0,placement:"bottom-start",title:r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{style:{fontSize:"0.7rem"}},"Press ",r.a.createElement("div",{style:{border:"1px solid #888a8c",padding:"0 0.5rem 0 0.5rem",borderRadius:"3px",display:"inline-block"}},r.a.createElement(L.a,{style:{fontSize:"0.7rem",paddingRight:"0.3rem"}}),"Enter")," to search"))},r.a.createElement(x.a,{className:t.search,onKeyDown:function(e){"Enter"===e.key&&i.push("/all_tags?q=".concat(v.queryWord,"&page=",1))},id:"input-with-tags",variant:"outlined",disableUnderline:!0,onChange:function(e){var t=e.target.value,a=e.target.name;y(Object(m.a)(Object(m.a)({},v),{},Object(s.a)({},a,t)))},name:"queryWord",value:v.queryWord,placeholder:"Enter keyword",startAdornment:r.a.createElement(k.a,null,r.a.createElement(S.a,{style:{marginRight:"0.4rem",opacity:"0.5"}}))}))),r.a.createElement("div",{className:t.main},d.tags.map((function(e,a){return r.a.createElement("div",{className:t.tagContained,key:e.tag_id},r.a.createElement(ma,{tag:e}))}))),r.a.createElement(Re.a,null,d.total_pages<=1?null:r.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%"}},r.a.createElement(tt.a,{page:d.page,count:d.total_pages,variant:"outlined",style:{marginTop:"1rem",alignSelf:"center"},color:"primary",onChange:function(e,t){i.push("/all_tags?q=".concat(v.queryWord,"&page=").concat(t))}})))))},pa=Object(y.a)({container:{width:"100%",maxWidth:"1200px",margin:"auto"},textInput:{}}),ga=function(){var e=Object(P.a)(I.breakpoints.down("sm")),t=pa({isMobile:e});return r.a.createElement("div",{className:t.container},r.a.createElement(_.d,null,r.a.createElement(_.b,{path:"/login",component:Ne}),r.a.createElement(_.b,{path:"/signup",component:Te}),r.a.createElement(_.b,{exact:!0,path:"/"},r.a.createElement(_.a,{to:"/p/newest"})),r.a.createElement(_.b,{path:"/p",component:mt}),r.a.createElement(_.b,{path:"/profile/:userId",component:jt}),r.a.createElement(_.b,{path:"/post/:post_id",component:Jt}),r.a.createElement(_.b,{path:"/search",component:aa}),r.a.createElement(_.b,{path:"/tag/:tag_id",component:ra}),r.a.createElement(_.b,{path:"/change_password",component:ia}),r.a.createElement(_.b,{path:"/all_tags",component:ua})))},fa=a(47),ba={posts:[]},Ea=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ba,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USER_DETAILS_SUCCESS":return{posts:t.data.posts};default:return e}},ha={isOpen:!1,data:{message:"",type:"success"}},va=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_NOTIF":return{isOpen:!0,data:{message:t.data.message,type:t.data.type}};case"CLOSE_NOTIF":return Object(m.a)(Object(m.a)({},e),{},{isOpen:!1});default:return e}},ya={isAuthenticated:!1,id:0,name:"",email:"",user_avatar:"",is_admin:!1},_a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ya,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USER":return e={isAuthenticated:t.data.isAuthenticated,id:t.data.id,name:t.data.name,email:t.data.email,user_avatar:t.data.user_avatar,is_admin:t.data.is_admin};default:return e}},wa={profile_popup:!1},Aa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_PROFILE_POPUP":return Object(m.a)(Object(m.a)({},e),{},{profile_popup:!0});case"CLOSE_PROFILE_POPUP":return Object(m.a)(Object(m.a)({},e),{},{profile_popup:!1});default:return e}},Oa=function(e){return Object(fa.c)({UserDetailsReducer:Ea,NotifyReducer:va,AuthenReducer:_a,togglePopUpReducer:Aa})},ja=a(180),xa=a(68),ka=c.a.mark(Sa),Na=c.a.mark(Ta),Ca=c.a.mark(Ra);function Sa(e){var t;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,0!==e.data.type){a.next=7;break}return a.next=4,Object(xa.a)(_e,ue+"/".concat(e.data.user_id,"/posts"),{},!1);case 4:return t=a.sent,a.next=7,Object(xa.c)({type:"FETCH_USER_DETAILS_SUCCESS",data:t.data});case 7:a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(0),a.next=13,Object(xa.c)(O({message:"Error when fetch user post",type:"error"}));case 13:case"end":return a.stop()}}),ka,null,[[0,9]])}function Ta(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(xa.d)("FETCH_USER_DETAILS",Sa);case 2:case"end":return e.stop()}}),Na)}function Ra(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(xa.b)(Ta);case 2:case"end":return e.stop()}}),Ca)}var La=Ra;var Pa=a(379),Da=a(35),Ba=Object(Da.a)(),za="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({shouldHotReload:!1}):fa.d,Ma=Object(ja.a)(),Ia=Object(Pa.a)(Ba),Wa=function(){var e=[Ma,Ia],t=[fa.a.apply(void 0,e)],a=Object(fa.e)(Oa(Ba),za.apply(void 0,t));return Ma.run(La),a},Fa=a(101),Ha=a.n(Fa),Ga=a(102),Qa=Object(y.a)({root_container:{float:"left",width:"100%",padding:function(e){return e.isMobile?"1rem 0 1rem 0":"4rem 0 2rem 0"}},inputTitle:{fontSize:"2rem",border:"none",padding:"0.5rem",width:"100%",fontWeight:"bold","&:focus":{outline:"None"}},tags:{border:"none",width:"100%",padding:"1rem 0","&:focus":{outline:"None"}},bodyContianer:{display:"flex",flexDirection:function(e){return e.isMobile?"column":"row"},padding:"2rem 0"},body_html:{fontSize:"1.2rem",width:function(e){return e.isMobile?"100%":"50%"},border:"1px solid #9494b8",boxSizing:"border-box","&:focus":{outline:"None"},padding:"1rem",height:"80vh"},buttonSave:{float:"right"},hintElementFocus:{display:"flex",flexDirection:"row",padding:"0.7rem","&:hover":{backgroundColor:"#42a5f5",cursor:"pointer"}}}),Ua=null,qa=function(){var e=Object(P.a)(I.breakpoints.down("sm")),t=Qa({isMobile:e}),a=Object(n.useState)({title:"",tag:"",tags:[],body:"",isLoading:!1,isFocusedTags:!1}),l=Object(u.a)(a,2),i=l[0],o=l[1],c=Object(_.g)(),d=Object(n.useState)({tags:[],is_focusing:!1}),p=Object(u.a)(d,2),g=p[0],f=p[1],h=function(e){var t=e.target.name,a=e.target.value;o(Object(m.a)(Object(m.a)({},i),{},Object(s.a)({},t,a)))};r.a.useEffect((function(){clearTimeout(Ua),""===i.tag?f(Object(m.a)(Object(m.a)({},g),{},{tags:[]})):Ua=setTimeout((function(){_e(ue+"/tags",{query_tag:i.tag},!1).then((function(e){return f(Object(m.a)(Object(m.a)({},g),{},{tags:e.data.tags}))}))}),1e3)}),[i.tag]);var v=Object(w.b)(),y=Object(w.c)((function(e){return e.AuthenReducer})),A=y.isAuthenticated,j=y.id;r.a.useEffect((function(){return function(){clearTimeout(Ua)}}),[]);return r.a.createElement("div",{className:t.root_container},A?r.a.createElement("div",{style:e?{padding:"1rem"}:{padding:"0 2rem 2rem 2rem"}},r.a.createElement(x.a,{className:t.inputTitle,placeholder:"Title",name:"title",value:i.title,onChange:h}),r.a.createElement("div",{style:{position:"relative"}},r.a.createElement(x.a,{name:"tag",className:t.tags,placeholder:"Input Tags",value:i.tag,disableUnderline:!0,onChange:h,onFocus:function(){o(Object(m.a)(Object(m.a)({},i),{},{isFocusedTags:!0}))},onBlur:function(){g.is_focusing?o(Object(m.a)(Object(m.a)({},i),{},{isFocusedTags:!0})):o(Object(m.a)(Object(m.a)({},i),{},{isFocusedTags:!1}))},onKeyDown:function(e){if("Enter"===e.key){var t=i.tags;if(i.tag.length>20)return void v(O({message:"Number character of tag must be smaller than 20",type:"error"}));t.includes(i.tag)||t.push(i.tag),o(Object(m.a)(Object(m.a)({},i),{},{tag:"",tags:t,isFocusedTags:!1}))}},startAdornment:r.a.createElement(k.a,null,r.a.createElement(S.a,{style:{paddingLeft:"0.5rem",paddingRight:"0.5rem",color:"black",opacity:"0.7"}}))}),i.isFocusedTags?r.a.createElement("div",{style:{width:"100%",zIndex:999,position:"absolute",backgroundColor:"#dedede",display:"flex",flexDirection:"column"}},g.tags.map((function(e,a){return r.a.createElement("div",{key:a,onMouseEnter:function(){f(Object(m.a)(Object(m.a)({},g),{},{is_focusing:!0}))},onMouseLeave:function(){f(Object(m.a)(Object(m.a)({},g),{},{is_focusing:!1}))},onClick:function(){return function(e){var t=i.tags;t.includes(e)||t.push(e),o(Object(m.a)(Object(m.a)({},i),{},{tag:"",tags:t,isFocusedTags:!1}))}(e.tag_name)}},r.a.createElement("div",{className:t.hintElementFocus},r.a.createElement("img",{src:e.tag_image,alt:"",style:{width:"2rem",height:"2rem",borderRadius:"50%"}}),r.a.createElement(E.a,{style:{lineHeight:"2rem",paddingLeft:"1rem"}},e.tag_name)))}))):r.a.createElement("div",null),r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.tags.map((function(e,t){return r.a.createElement("div",{key:t,style:{display:"flex",flexDirection:"row",backgroundColor:"rgba(211,47,47,0.2)",border:"1px solid red",padding:"0.3rem",borderRadius:"0.3rem",marginRight:"0.3rem"}},r.a.createElement(E.a,{style:{fontSize:"0.8rem",lineHeight:"1rem",color:"red"}},e),r.a.createElement(Ha.a,{style:{fontSize:"0.8rem",paddingLeft:"0.3rem",color:"red"},onClick:function(){return function(e){var t=i.tags;t.splice(e,1),o(Object(m.a)(Object(m.a)({},i),{},{tags:t}))}(t)}}))})))),r.a.createElement("div",{style:{marginTop:"1rem",marginBottom:"1rem"}},r.a.createElement(Ga.a,{initialValue:"Write your post here...",apiKey:"gzdsey0opala3t7opvlkqunzo51svo4mkwhmg5pwepf8ml2d",init:{height:"60vh",menubar:!1,plugins:["advlist autolink lists link image","charmap print preview anchor help","searchreplace visualblocks code codesample fullscreen","insertdatetime media table paste wordcount table"],toolbar:"undo redo | formatselect | bold italic | forecolor backcolor |                                        alignleft aligncenter alignright | image preview fullscreen| table blockquote                                        bullist numlist outdent indent code codesample | help",table_toolbar:"tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",codesample_languages:[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}],images_upload_url:"".concat(pe,"/post/uploads"),images_upload_handler:function(e,t,a){var n=new FormData;n.append("file",e.blob(),e.filename()),Oe("".concat(pe,"/post/uploads"),{},n,!0).then((function(e){return t(e.data.urls.default)})).catch((function(e){return a("Up load image fail")}))}},onChange:function(e){o(Object(m.a)(Object(m.a)({},i),{},{body:e.target.getContent()}))}})),r.a.createElement(b.a,{variant:"contained",color:"primary",className:t.buttonSave,onClick:function(){if(0!==i.tags.length){o(Object(m.a)(Object(m.a)({},i),{},{isLoading:!0}));var e={title:i.title,body:i.body,author_id:j,tags:i.tags.join(",")};""===e.title|""===e.body?v(O({message:"Write something",type:"error"})):we(ue+"/",{},e,!0).then((function(e){o(Object(m.a)(Object(m.a)({},i),{},{isLoading:!1})),c.push("/post/".concat(e.data.post_id)),v(O({message:"Save post successful",type:"success"}))})).catch((function(e){v(O({message:"Save post fail. Try again",type:"error"}))}))}else v(O({message:"You need to put at least 1 tags.",type:"error"}))}},"Save")):r.a.createElement(_.a,{to:"/"}))},Ka=a(376),Ya=a(373);function Ja(e){return r.a.createElement(Ya.a,Object.assign({elevation:6,variant:"filled"},e))}function Za(e){e.message,e.type;var t=Object(w.c)((function(e){return e.NotifyReducer})),a=Object(w.b)(),n=function(e,t){"clickaway"!==t&&a({type:"CLOSE_NOTIF"})};return r.a.createElement(Ka.a,{open:t.isOpen,autoHideDuration:3e3,onClose:n,anchorOrigin:{vertical:"top",horizontal:"right"}},r.a.createElement(Ja,{onClose:n,severity:t.data.type},t.data.message))}var Xa=a(369),Va=Object(y.a)({root_container:{float:"left",width:"100%",padding:function(e){return e.isMobile?"1rem 0 1rem 0":"4rem 0 2rem 0"}},inputTitle:{fontSize:"2rem",border:"None",width:"100%",fontWeight:"bold","&:focus":{outline:"None"}},tags:{border:"None",width:"100%",padding:"1rem 0","&:focus":{outline:"None"}},bodyContianer:{display:"flex",flexDirection:"row",padding:"2rem 0"},body_html:{fontSize:"1.2rem",width:function(e){return e.isMobile?"100%":"50%"},border:"1px solid #9494b8",boxSizing:"border-box","&:focus":{outline:"None"},padding:"1rem",height:"80vh"},button_save:{float:"right"},hintElementFocus:{display:"flex",flexDirection:"row",padding:"0.7rem","&:hover":{backgroundColor:"#42a5f5",cursor:"pointer"}}}),$a=null,en=function(){var e=Object(P.a)(I.breakpoints.down("sm")),t=Va({isMobile:e}),a=Object(_.g)(),l=Object(n.useState)({title:"",tag:"",tags:[],body:"",isLoading:!1,isFocusedTags:!1}),i=Object(u.a)(l,2),o=i[0],c=i[1],d=Object(n.useState)({tags:[],is_focusing:!1}),p=Object(u.a)(d,2),g=p[0],f=p[1],h=function(e){var t=e.target.name,a=e.target.value;c(Object(m.a)(Object(m.a)({},o),{},Object(s.a)({},t,a)))};Object(n.useEffect)((function(){clearTimeout($a),""===o.tag?f(Object(m.a)(Object(m.a)({},g),{},{tags:[]})):$a=setTimeout((function(){_e(ue+"/tags",{query_tag:o.tag},!1).then((function(e){return f(Object(m.a)(Object(m.a)({},g),{},{tags:e.data.tags}))}))}),2e3)}),[o.tag]);var v=Object(w.b)(),y=Object(w.c)((function(e){return e.AuthenReducer})),A=y.isAuthenticated,j=y.id,C=Object(_.i)().post_id;r.a.useEffect((function(){return _e(ue+"/".concat(C),{},!1).then((function(e){var t=e.data.tags.map((function(e){return e.tag_name}));c({tags:t,title:e.data.title,body:e.data.body_html,author_id:e.data.author.user_id})})),function(){clearTimeout($a)}}),[]);return r.a.createElement("div",{className:t.root_container},A?r.a.createElement("div",{style:e?{padding:"1rem"}:{padding:"0 2rem 2rem 2rem"}},r.a.createElement(x.a,{className:t.inputTitle,placeholder:"Title",name:"title",value:o.title,onChange:h}),r.a.createElement("div",{style:{position:"relative"}},r.a.createElement(x.a,{name:"tag",className:t.tags,placeholder:"Input Tags",value:o.tag,disableUnderline:!0,onChange:h,onFocus:function(){c(Object(m.a)(Object(m.a)({},o),{},{isFocusedTags:!0}))},onBlur:function(){g.is_focusing?c(Object(m.a)(Object(m.a)({},o),{},{isFocusedTags:!0})):c(Object(m.a)(Object(m.a)({},o),{},{isFocusedTags:!1}))},onKeyDown:function(e){if("Enter"===e.key){var t=o.tags;t.includes(o.tag)||t.push(o.tag),c(Object(m.a)(Object(m.a)({},o),{},{tag:"",tags:t,isFocusedTags:!1}))}},startAdornment:r.a.createElement(k.a,null,r.a.createElement(S.a,{style:{paddingLeft:"0.5rem",paddingRight:"0.5rem",color:"black",opacity:"0.7"}}))}),o.isFocusedTags?r.a.createElement("div",{style:{width:"100%",zIndex:999,position:"absolute",backgroundColor:"#dedede",display:"flex",flexDirection:"column"}},g.tags.map((function(e,a){return r.a.createElement("div",{key:a,onMouseEnter:function(){f(Object(m.a)(Object(m.a)({},g),{},{is_focusing:!0}))},onMouseLeave:function(){f(Object(m.a)(Object(m.a)({},g),{},{is_focusing:!1}))},onClick:function(){return function(e){var t=o.tags;t.includes(e)||t.push(e),c(Object(m.a)(Object(m.a)({},o),{},{tag:"",tags:t,isFocusedTags:!1}))}(e.tag_name)}},r.a.createElement(N.a,null),r.a.createElement("div",{className:t.hintElementFocus},r.a.createElement("img",{alt:"",style:{width:"2rem",height:"2rem",borderRadius:"50%"},src:e.tag_image}),r.a.createElement(E.a,{style:{lineHeight:"2rem",paddingLeft:"1rem"}},e.tag_name)))})),r.a.createElement(N.a,null)):r.a.createElement("div",null),r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},o.tags.map((function(e,t){return r.a.createElement("div",{key:t,style:{display:"flex",flexDirection:"row",backgroundColor:"rgba(211,47,47,0.2)",border:"1px solid red",padding:"0.3rem",borderRadius:"0.3rem",marginRight:"0.3rem"}},r.a.createElement(E.a,{style:{fontSize:"0.8rem",lineHeight:"1rem",color:"red"}},e),r.a.createElement(Ha.a,{style:{fontSize:"0.8rem",paddingLeft:"0.3rem",color:"red"},onClick:function(){return function(e){var t=o.tags;t.splice(e,1),c(Object(m.a)(Object(m.a)({},o),{},{tags:t}))}(t)}}))})))),r.a.createElement("div",{style:{marginTop:"1rem",marginBottom:"1rem"}},r.a.createElement(Ga.a,{initialValue:o.body,apiKey:"gzdsey0opala3t7opvlkqunzo51svo4mkwhmg5pwepf8ml2d",init:{height:"60vh",menubar:!1,plugins:["advlist autolink lists link image","charmap print preview anchor help","searchreplace visualblocks code codesample fullscreen","insertdatetime media table paste wordcount table"],toolbar:"undo redo | formatselect | bold italic | forecolor backcolor |                                        alignleft aligncenter alignright | image preview fullscreen| table                                         bullist numlist outdent indent code codesample | help",table_toolbar:"tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",codesample_languages:[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}],image_dimensions:!1,image_class_list:[{title:"Responsive",value:"img-responsive"}],images_upload_url:"".concat(pe,"/post/uploads"),images_upload_handler:function(e,t,a){var n=new FormData;n.append("file",e.blob(),e.filename()),Oe("".concat(pe,"/post/uploads"),{},n,!0).then((function(e){return t(e.data.urls.default)})).catch((function(e){return a("Up load image fail")}))}},onChange:function(e){c(Object(m.a)(Object(m.a)({},o),{},{body:e.target.getContent()}))},value:o.body})),r.a.createElement(b.a,{variant:"contained",color:"primary",className:t.button_save,onClick:function(){c(Object(m.a)(Object(m.a)({},o),{},{isLoading:!0}));var e={post_id:C,title:o.title,body:o.body,author_id:j,tags:o.tags.join(",")};""===e.title|""===e.body?v(O({message:"Write something",type:"error"})):Oe(ue+"/",{},e,!0).then((function(e){c(Object(m.a)(Object(m.a)({},o),{},{isLoading:!1})),a.push("/post/".concat(e.data.post_id)),v(O({message:"Save post successful",type:"success"}))})).catch((function(e){v(O({message:"Save post fail. Try again",type:"error"}))}))}},"Save")):r.a.createElement(_.a,{to:"/"}))},tn=function(){var e=r.a.useState(!0),t=Object(u.a)(e,2),a=t[0],n=t[1];r.a.useEffect((function(){null!==localStorage.getItem("jwt")?(n(!0),_e(me+"/verify_login",{},!0).then((function(e){var t={isAuthenticated:!0,id:e.data.user_id,name:e.data.user_name,email:e.data.user_email,user_avatar:e.data.user_avatar,is_admin:e.data.is_admin};l(A(t)),n(!1)})).catch((function(e){return n(!1)}))):n(!1)}),[]);var l=Object(w.b)();return r.a.createElement("div",null,!0===a?null:r.a.createElement(Xa.a,{theme:I},r.a.createElement(ge.a,null,r.a.createElement(ie,null),r.a.createElement(ga,null),r.a.createElement(_.d,null,r.a.createElement(_.b,{path:"/add_post",component:qa}),r.a.createElement(_.b,{path:"/edit_post/:post_id",component:en}))),r.a.createElement(Za,null)))},an=Wa();var nn=function(){return r.a.createElement(w.a,{store:an},r.a.createElement(tn,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(nn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[196,1,2]]]);
//# sourceMappingURL=main.d1e8dc81.chunk.js.map